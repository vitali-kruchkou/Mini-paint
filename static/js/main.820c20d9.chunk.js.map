{"version":3,"sources":["modules/Authentication/PasswordReset/StyledPasswordReset.js","store/actions/constans.d.ts","store/actions/canvasActions.ts","store/actions/toolsActions.ts","firebase/firebaseConfig.js","firebase/base.js","firebase/index.js","firebase/firebaseAuthQueries.js","store/actions/index.ts","store/actions/authActions.ts","modules/Authentication/PasswordReset/PasswordReset.jsx","modules/Authentication/SignIn/StyledSignIn.js","modules/Authentication/SignIn/SignIn.jsx","modules/Authentication/SignUp/StyledSignUp.js","modules/Authentication/SignUp/SignUp.jsx","modules/Authentication/Authentication.jsx","modules/Paint/Toolbar/StyledToolbar.d.ts","modules/Paint/Toolbar/Tools/Tool.ts","modules/Paint/Toolbar/Tools/index.ts","modules/Paint/Toolbar/Tools/Brush.ts","modules/Paint/Toolbar/Tools/Rectangle.ts","modules/Paint/Toolbar/Tools/Circle.ts","modules/Paint/Toolbar/Tools/Line.ts","modules/Paint/Toolbar/Tools/Eraser.ts","modules/Paint/Toolbar/Tools/ClearAll.ts","assets/index.js","assets/brush.svg","assets/circle.svg","assets/rectangle.svg","assets/line.svg","assets/disk.svg","assets/trash.svg","assets/eraser.svg","assets/undo.svg","assets/redo.svg","firebase/firebaseDBQueries.js","modules/Paint/Toolbar/Toolbar.tsx","modules/Paint/Canvas/StyledCanvas.d.ts","modules/Paint/Canvas/resizeCanvas.ts","assets/log-out.svg","assets/gallery.svg","modules/Paint/Canvas/Canvas.tsx","modules/Paint/Gallery/StyledGallery.d.ts","modules/Paint/Gallery/Gallery.tsx","modules/Paint/Paint.tsx","routes/Routes.jsx","App.js","store/reducers/currentCanvas.ts","store/reducers/currentTools.ts","store/reducers/currentAuth.ts","store/reducers/rootReducer.ts","store/index.ts","index.js"],"names":["Style","Container","styled","div","Button","Form","Title","Links","Accept","span","SET_REF","PUSH_TO_UNDO","PUSH_TO_REDO","UNDO","REDO","SET_TOOL","SET_FILL_COLOR","SET_STROKE_COLOR","SET_LINE_WIDTH","SIGN_IN","SIGN_UP","SIGN_OUT","RESET_PASSW","SIGN_ERROR","setRef","canvasState","type","payload","undo","pushToRedo","data","pushToUndo","redo","setFillColor","color","setTool","tool","setStrokeColor","setLineWidth","width","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","REACT_APP_APP_ID","firebaseApp","firebase","apps","length","app","initializeApp","auth","firestore","storageRef","storage","ref","generateUserDocument","user","additionalData","a","userRef","doc","uid","get","exists","email","displayName","photoURL","set","console","error","getUserDocument","userDocument","provider","GoogleAuthProvider","resetPassword","sendPasswordResetEmail","res","toast","success","signInEmailAndPassword","password","signInWithEmailAndPassword","signInWithGoogle","signInWithPopup","signUpEmailAndPassword","createUserWithEmailAndPassword","SignOut","signOut","allActions","canvasActions","toolsActions","authActions","signIn","signUp","reset_passw","signin","dispatch","then","undefined","catch","message","sign_error","signout","signup","resetPassw","signInGoogle","PasswordReset","useState","setEmail","useDispatch","Item","name","id","value","placeholder","onChange","event","currentTarget","className","onClick","to","Styled","Error","SignIn","setPassword","onChangeHandler","prefix","UserOutlined","suffix","title","InfoCircleOutlined","style","Password","plain","GoogleOutlined","Toast","SignUp","setDisplayName","history","useHistory","logginGoogle","push","Authentication","path","component","from","FormElement","button","Buttons","Tool","canvas","context","getContext","this","endListen","onmousedown","onmousemove","onmouseup","ontouchstart","ontouchend","fillStyle","strokeStyle","lineWidth","Tools","mouseDown","listen","handleMouseDown","bind","handleMouseMove","handleMouseUp","handleTouchDown","ontouchmove","handleTouchMove","handleTouchEnd","beginPath","moveTo","pageX","offsetLeft","pageY","offsetTop","draw","preventDefault","touch","touches","mouseEvent","MouseEvent","clientX","clientY","dispatchEvent","clientLeft","clientTop","x","y","globalCompositeOperation","lineTo","stroke","startX","startY","currentX","currentY","saved","toDataURL","height","img","Image","src","onload","clearRect","drawImage","rect","fill","radius","Math","pow","arc","PI","e","Icons","saveImage","toBlob","msToBlob","uuid","replace","c","r","random","toString","blob","child","put","contentType","snapshot","log","totalBytes","requestImage","setPictures","listAll","result","picArr","Promise","all","items","map","imageRef","getDownloadURL","url","Toolbar","canvasRef","useSelector","state","currentCanvas","currentAuth","setBrush","current","useEffect","target","changeFillColor","changeStrokeColor","min","max","defaultValue","step","handleResize","refCanvas","parentNode","parseInt","getComputedStyle","getPropertyValue","Canvas","iconSignOut","iconGallery","onMouseDown","onTouchStart","Img","Text","Gallery","pictures","getAsyncPics","picture","i","alt","Paint","Routes","onAuthStateChanged","userAuth","login","App","initialState","action","dataUrl","pop","initiaslState","currentTools","fillColor","strokeColor","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2WAwEeA,EAtED,CACZC,UAAWC,IAAOC,IAAT,sSAaTC,OAAQF,IAAOC,IAAT,qhBAuBNE,KAAMH,IAAOC,IAAT,6SAaJG,MAAOJ,IAAOC,IAAT,wGAKLI,MAAOL,IAAOC,IAAT,2MAULK,OAAQN,IAAOO,KAAT,kDCnEKC,EAAU,UACVC,EAAe,eACfC,EAAe,eACfC,EAAO,OACPC,EAAO,OAEPC,EAAW,WACXC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAiB,iBAEjBC,EAAU,UACVC,GAAU,UACVC,GAAW,WACXC,GAAc,cACdC,GAAa,aCoBX,IAAEC,OAjCF,SAACC,GACd,MAAO,CACLC,KAAMhB,EACNiB,QAASF,IA8BYG,KApBZ,WACX,MAAO,CACLF,KAAMb,IAkBqBgB,WAdZ,SAACC,GAClB,MAAO,CACLJ,KAAMd,EACNe,QAASG,IAW8BC,WAPxB,SAACD,GAClB,MAAO,CACLJ,KAAMf,EACNgB,QAASG,IAI0CE,KA1B1C,WACX,MAAO,CACLN,KAAMZ,KCyBK,IAAEmB,aArBI,SAACC,GACpB,MAAO,CACLR,KAAMV,EACNW,QAASO,IAkBkBC,QA5Bf,SAACC,GACf,MAAO,CACLV,KAAMX,EACNY,QAASS,IAyB2BC,eAdjB,SAACH,GACtB,MAAO,CACLR,KAAMT,EACNU,QAASO,IAW2CI,aAPnC,SAACC,GACpB,MAAO,CACLb,KAAMR,EACNS,QAASY,K,2BCbEC,I,qBATA,CACbC,OCX+BC,0CDY/BC,WCXmCD,mCDYnCE,YCXoCF,wDDYpCG,UCXkCH,mBDYlCI,cCXsCJ,+BDYtCK,kBCVAL,eDWAM,MCV8BN,+fAAYO,mBCDtCC,GAAeC,KAASC,KAAKC,OAE/BF,KAASG,MADTH,KAASI,cAAcf,IAGdgB,GAAON,GAAYM,OACnBC,GAAYP,GAAYO,YAExBC,GADGR,GAAYS,UACMC,MAErBC,GAAoB,uCAAG,WAAOC,EAAMC,GAAb,qBAAAC,EAAA,yDAC7BF,EAD6B,wDAG5BG,EAAUR,GAAUS,IAAV,gBAAuBJ,EAAKK,MAHV,SAIXF,EAAQG,MAJG,iBAMpBC,OANoB,wBAOxBC,EAAiCR,EAAjCQ,MAAOC,EAA0BT,EAA1BS,YAAaC,EAAaV,EAAbU,SAPI,mBASxBP,EAAQQ,IAAR,cACJF,cACAD,QACAE,YACGT,IAbyB,0DAgB9BW,QAAQC,MAAM,+BAAd,MAhB8B,iCAmB3BC,GAAgBd,EAAKK,MAnBM,0DAAH,wDAsB3BS,GAAe,uCAAG,WAAMT,GAAN,eAAAH,EAAA,yDACjBG,EADiB,yCACL,MADK,gCAGOV,GAAUS,IAAV,gBAAuBC,IAAOC,MAHrC,cAGdS,EAHc,uCAMlBV,OACGU,EAAa/C,SAPE,gCAUpB4C,QAAQC,MAAM,sBAAd,MAVoB,yDAAH,sDCjCfG,GAAW,IAAI3B,KAASK,KAAKuB,mBAEtBC,GAAa,uCAAG,WAAMV,GAAN,eAAAN,EAAA,sEACTR,GAAKyB,uBAAuBX,GADnB,cACrBY,EADqB,OAE3BC,IAAMC,QAAQ,4BAFa,kBAGpBF,GAHoB,2CAAH,sDAMbG,GAAsB,uCAAG,WAAOf,EAAOgB,GAAd,eAAAtB,EAAA,sEAClBR,GAAK+B,2BAA2BjB,EAAOgB,GADrB,cAC9BJ,EAD8B,OAEpCC,IAAMC,QAAQ,SAFsB,kBAG7BF,GAH6B,2CAAH,wDAMtBM,GAAgB,uCAAG,4BAAAxB,EAAA,sEACZR,GAAKiC,gBAAgBX,IADT,cACxBI,EADwB,OAE9BC,IAAMC,QAAQ,SAFgB,kBAGvBF,GAHuB,2CAAH,qDAMhBQ,GAAsB,uCAAG,WAAOpB,EAAOgB,GAAd,eAAAtB,EAAA,sEAClBR,GAAKmC,+BAA+BrB,EAAOgB,GADzB,cAC9BJ,EAD8B,OAEpCC,IAAMC,QAAQ,kBAFsB,kBAG7BF,GAH6B,2CAAH,wDAMtBU,GAAO,uCAAG,sBAAA5B,EAAA,sEACfR,GAAKqC,UADU,2CAAH,qDCpBLC,GANI,CACjBC,iBACAC,gBACAC,YCwGa,CACbC,OA7Fa,SAACpC,GACd,MAAO,CACLpC,KAAMP,EACNQ,QAASmC,IA2FX+B,QAhFc,WACd,MAAO,CACLnE,KAAML,KA+ER8E,OAxFa,SAACrC,GACd,MAAO,CACLpC,KAAMN,GACNO,QAASmC,IAsFXsC,YA5EkB,WAClB,MAAO,CACL1E,KAAMJ,KA2ER+E,OAjEa,SAAC/B,EAAegB,GAC7B,OAAO,SAACgB,GACNjB,GAAuBf,EAAOgB,GAC3BiB,MAAK,YAAoB,IAAjBzC,EAAgB,EAAhBA,KACP,QAAa0C,IAAT1C,EAAoB,CAAC,IACfK,EAAeL,EAAfK,IAAKG,EAAUR,EAAVQ,MACbgC,EAASR,GAAWG,YAAYC,OAAO,CAAE/B,MAAKG,eAGjDmC,OAAM,YAAkB,IAAfC,EAAc,EAAdA,QACRvB,IAAMR,MAAM+B,GACZJ,EAASR,GAAWG,YAAYU,mBAuDtCC,QAlDc,WACd,OAAO,SAACN,GACNV,KAAUW,MAAK,WACbD,EAASR,GAAWG,YAAYJ,gBAgDpCgB,OA3Ca,SAACvC,EAAegB,GAC7B,OAAO,SAACgB,GACNZ,GAAuBpB,EAAOgB,GAC3BiB,MAAK,YAAoB,IAAjBzC,EAAgB,EAAhBA,KACCK,EAAeL,EAAfK,IAAKG,EAAUR,EAAVQ,MACbgC,EAASR,GAAWG,YAAYE,OAAO,CAAEhC,MAAKG,cAE/CmC,OAAM,YAAkB,IAAfC,EAAc,EAAdA,QACRvB,IAAMR,MAAM+B,GACZJ,EAASR,GAAWG,YAAYU,mBAmCtCG,WArBiB,SAACxC,GAClB,OAAO,SAACgC,GACNtB,GAAcV,GACXiC,MAAK,WACJD,EAASR,GAAWG,YAAYG,kBAEjCK,OAAM,YAAkB,IAAfC,EAAc,EAAdA,QACRvB,IAAMR,MAAM+B,GACZJ,EAASR,GAAWG,YAAYU,mBActCI,aA/BmB,WACnB,OAAO,SAACT,GACNd,KAAmBe,MAAK,YAAoB,IAAjBzC,EAAgB,EAAhBA,KACjBK,EAAeL,EAAfK,IAAKG,EAAUR,EAAVQ,MACbgC,EAASR,GAAWG,YAAYC,OAAO,CAAE/B,MAAKG,gBA4BlDqC,WA5EiB,WACjB,MAAO,CACLjF,KAAMH,O,QCOKyF,GA9CO,WAAO,IAAD,EACAC,mBAAS,IADT,mBACnB3C,EADmB,KACZ4C,EADY,KAEpBZ,EAAWa,cAcjB,OACE,gBAAC,EAAMlH,UAAP,WACE,eAAC,IAAD,IACA,eAAC,EAAMI,KAAP,UACE,gBAAC,IAAD,WACE,eAAC,EAAMC,MAAP,kCACA,eAAC,IAAK8G,KAAN,UACE,eAAC,IAAD,CACE1F,KAAK,QACL2F,KAAK,YACLC,GAAG,YACHC,MAAOjD,EACPkD,YAAY,mBACZC,SA1BY,SAAAC,GAAU,IAAD,EACPA,EAAMC,cAAtBN,EADuB,EACvBA,KAAME,EADiB,EACjBA,MAED,cAATF,GACFH,EAASK,QAyBL,eAAC,IAAKH,KAAN,UACE,eAAC,EAAMhH,OAAP,UACE,yBAAQwH,UAAU,WAAWC,QAvBlB,SAAAH,GACrBpB,EAASR,GAAWG,YAAYa,WAAWxC,IAC3C4C,EAAS,KAqBC,sCAKJ,eAAC,IAAD,CAAMY,GAAG,UAAT,kD,kDC2CKC,GAxFA,CACb9H,UAAWC,IAAOC,IAAT,sSAaTC,OAAQF,IAAOC,IAAT,o5BAuCNE,KAAMH,IAAOC,IAAT,wTAaJG,MAAOJ,IAAOO,KAAT,6EAILF,MAAOL,IAAOC,IAAT,4QAaL6H,MAAO9H,IAAOO,KAAT,gDC6BQwH,GApGA,WAAO,IAAD,EACOhB,mBAAS,IADhB,mBACZ3C,EADY,KACL4C,EADK,OAEaD,mBAAS,IAFtB,mBAEZ3B,EAFY,KAEF4C,EAFE,KAGb5B,EAAWa,cAEXgB,EAAkB,SAAAT,GAAU,IAAD,EACPA,EAAMC,cAAtBN,EADuB,EACvBA,KAAME,EADiB,EACjBA,MAED,cAATF,EACFH,EAASK,GACS,iBAATF,GACTa,EAAYX,IAYhB,OACE,qCACE,gBAAC,GAAMtH,UAAP,WACE,eAAC,IAAD,IACA,eAAC,GAAMI,KAAP,UACE,gBAAC,IAAD,WACE,eAAC,GAAMC,MAAP,yBACA,eAAC,KAAD,IACA,wDAEE,wBAFF,kCAKA,eAAC,KAAD,IACA,eAAC,IAAK8G,KAAN,UACE,eAAC,IAAD,CACE1F,KAAK,QACL2F,KAAK,YACLE,MAAOjD,EACPkD,YAAY,aACZF,GAAG,YACHG,SAAUU,EACVC,OAAQ,eAACC,GAAA,EAAD,IACRC,OACE,eAAC,KAAD,CAASC,MAAM,oBAAf,SACE,eAACC,GAAA,EAAD,CAAoBC,MAAO,CAAEvG,MAAO,2BAK5C,eAAC,IAAKkF,KAAN,UACE,eAAC,IAAMsB,SAAP,CACEhH,KAAK,WACL2F,KAAK,eACLE,MAAOjC,EACPkC,YAAY,gBACZF,GAAG,eACHG,SAAUU,EACVG,OACE,eAAC,KAAD,CAASC,MAAM,oBAAf,SACE,eAACC,GAAA,EAAD,CAAoBC,MAAO,CAAEvG,MAAO,2BAK5C,gBAAC,IAAKkF,KAAN,WACE,eAAC,GAAMhH,OAAP,UACE,yBAAQwH,UAAU,SAASC,QAnDV,SAAAH,GAC7BpB,EAASR,GAAWG,YAAYI,OAAO/B,EAAOgB,KAkDlC,qBAIF,gBAAC,GAAM/E,MAAP,WACE,eAAC,IAAD,CAAMuH,GAAG,UAAT,SACE,uBAAMF,UAAU,SAAhB,wBACM,IACR,wBACA,eAAC,IAAD,CAAME,GAAG,iBAAT,SACE,6DAIN,eAAC,KAAD,CAASa,OAAK,EAAd,4BACA,eAAC,IAAKvB,KAAN,UACE,eAAC,GAAMhH,OAAP,UACE,0BAAQwH,UAAU,SAASC,QAxEpB,WACnBvB,EAASR,GAAWG,YAAYc,iBAuEpB,UACE,eAAC6B,GAAA,EAAD,IACA,6DCdH5I,GAvFD,CACZC,UAAWC,IAAOC,IAAT,sSAaTC,OAAQF,IAAOC,IAAT,23BAsCNE,KAAMH,IAAOC,IAAT,0RAYJG,MAAOJ,IAAOC,IAAT,wGAKLI,MAAOL,IAAOC,IAAT,2MAUL6H,MAAO9H,IAAOO,KAAT,+CAGLoI,MAAO3I,IAAOC,IAAT,gDCiCQ2I,GA3GA,WAAO,IAAD,EACO7B,mBAAS,IADhB,mBACZ3C,EADY,KACL4C,EADK,OAEaD,mBAAS,IAFtB,mBAEZ3B,EAFY,KAEF4C,EAFE,OAGmBjB,mBAAS,IAH5B,mBAGZ1C,EAHY,KAGCwE,EAHD,KAIbC,EAAUC,cACV3C,EAAWa,cA4BX+B,EAAe,WACnB,IACE5C,EAASR,GAAWG,YAAYc,gBAChC,MAAOpC,GACPQ,IAAMR,MAAMA,EAAM+B,WAItB,OACE,gBAAC,GAAMzG,UAAP,WACE,eAAC,IAAD,IACA,eAAC,GAAMI,KAAP,UACE,gBAAC,IAAD,WACE,eAAC,GAAMC,MAAP,sBACA,eAAC,IAAK8G,KAAN,UACE,eAAC,IAAD,CACE1F,KAAK,OACL2F,KAAK,cACLE,MAAOhD,EACPiD,YAAY,aACZF,GAAG,cACHG,SAjCgB,SAAAC,GAAU,IAAD,EACXA,EAAMC,cAAtBN,EAD2B,EAC3BA,KAAME,EADqB,EACrBA,MACD,gBAATF,GACF0B,EAAexB,IA+BPa,OAAQ,eAACC,GAAA,EAAD,QAGZ,eAAC,IAAKjB,KAAN,UACE,eAAC,IAAD,CACE1F,KAAK,QACL2F,KAAK,YACLE,MAAOjD,EACPkD,YAAY,0BACZF,GAAG,YACHG,SA1DiB,SAAAC,GAAU,IAAD,EACZA,EAAMC,cAAtBN,EAD4B,EAC5BA,KAAME,EADsB,EACtBA,MACD,cAATF,GACFH,EAASK,IAwDDa,OAAQ,eAACC,GAAA,EAAD,QAGZ,eAAC,IAAKjB,KAAN,UACE,eAAC,IAAMsB,SAAP,CACEhH,KAAK,WACL2F,KAAK,eACLE,MAAOjC,EACPkC,YAAY,gBACZF,GAAG,eACHG,SA9DoB,SAAAC,GAAU,IAAD,EACfA,EAAMC,cAAtBN,EAD+B,EAC/BA,KAAME,EADyB,EACzBA,MACD,iBAATF,GACFa,EAAYX,IA4DJe,OACE,eAAC,KAAD,CAASC,MAAM,oBAAf,SACE,eAACC,GAAA,EAAD,CAAoBC,MAAO,CAAEvG,MAAO,2BAK5C,gBAAC,IAAKkF,KAAN,WACE,eAAC,GAAMhH,OAAP,UACE,yBAAQwH,UAAU,SAASC,QA1DpB,SAAAH,GACjBpB,EAASR,GAAWG,YAAYY,OAAOvC,EAAOgB,IAC9C0D,EAAQG,KAAK,YAwDH,uBAIF,gBAAC,GAAM5I,MAAP,WACE,2DACA,eAAC,IAAD,CAAMuH,GAAG,UAAT,2BAGJ,eAAC,KAAD,CAASa,OAAK,EAAd,6BACA,eAAC,IAAKvB,KAAN,UACE,eAAC,GAAMhH,OAAP,CAAcyH,QAASqB,EAAvB,SACE,yBAAQrB,QAASqB,EAAjB,8CC3FCE,GAXQ,WACrB,OACE,gBAAC,IAAD,WACE,eAAC,IAAD,CAAOC,KAAK,UAAUC,UAAWrB,KACjC,eAAC,IAAD,CAAOoB,KAAK,UAAUC,UAAWR,KACjC,eAAC,IAAD,CAAOO,KAAK,iBAAiBC,UAAWtC,KACxC,eAAC,IAAD,CAAUuC,KAAK,IAAIzB,GAAG,gBC2DbC,GArEA,CACb9H,UAAWC,IAAOC,IAAT,uRAYTE,KAAMH,IAAOC,IAAT,gQAaJqJ,YAAatJ,IAAOC,IAAT,0SAaXC,OAAQF,IAAOuJ,OAAT,+MAWNC,QAASxJ,IAAOC,IAAT,mY,oCCpDYwJ,G,WAInB,WAAYC,GACV,GADsC,0BAHxCA,YAGuC,OAFvCC,aAEuC,EACvB,MAAVD,EAAgB,CAClB,IAAMC,EAAUD,EAAOE,WAAW,MAClCC,KAAKH,OAASA,EACdG,KAAKF,QAAUA,EACfE,KAAKC,a,8CAIT,WACED,KAAKH,OAAOK,YAAc,KAC1BF,KAAKH,OAAOM,YAAc,KAC1BH,KAAKH,OAAOO,UAAY,KACxBJ,KAAKH,OAAOQ,aAAe,KAC3BL,KAAKH,OAAOS,WAAa,KACzBN,KAAKH,OAAOS,WAAa,O,qBAG3B,SAAcnI,GACZ6H,KAAKF,QAAQS,UAAYpI,I,uBAG3B,SAAgBA,GACd6H,KAAKF,QAAQU,YAAcrI,I,qBAG7B,SAAcK,GACZwH,KAAKF,QAAQW,UAAYjI,M,KCtBdkI,GAFD,C,oDCJZ,WAAYb,GAA4B,IAAD,+BACrC,cAAMA,IAIRc,eALuC,EAErC,EAAKC,SAFgC,E,2CAOvC,WACEZ,KAAKH,OAAOK,YAAcF,KAAKa,gBAAgBC,KAAKd,MACpDA,KAAKH,OAAOM,YAAcH,KAAKe,gBAAgBD,KAAKd,MACpDA,KAAKH,OAAOO,UAAYJ,KAAKgB,cAAcF,KAAKd,MAChDA,KAAKH,OAAOQ,aAAeL,KAAKiB,gBAAgBH,KAAKd,MACrDA,KAAKH,OAAOqB,YAAclB,KAAKmB,gBAAgBL,KAAKd,MACpDA,KAAKH,OAAOS,WAAaN,KAAKoB,eAAeN,KAAKd,Q,6BAGpD,SAAgBrC,GAA0B,IAAD,IACvCqC,KAAKW,WAAY,EACjB,UAAAX,KAAKF,eAAL,SAAcuB,YACd,UAAArB,KAAKF,eAAL,SAAcwB,OACZ3D,EAAM4D,MAAQvB,KAAKH,OAAO2B,WAC1B7D,EAAM8D,MAAQzB,KAAKH,OAAO6B,a,6BAI9B,SAAgB/D,GACVqC,KAAKW,WACPX,KAAK2B,KACHhE,EAAM4D,MAAQvB,KAAKH,OAAO2B,WAC1B7D,EAAM8D,MAAQzB,KAAKH,OAAO6B,a,2BAKhC,WACE1B,KAAKW,WAAY,I,6BAGnB,SAAgBhD,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QACfC,QAASL,EAAMK,UAEjBlC,KAAKH,OAAOsC,cAAcJ,K,6BAG5B,SAAgBpE,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QAAUjC,KAAKH,OAAOuC,WACrCF,QAASL,EAAMK,QAAUlC,KAAKH,OAAOwC,YAEvCrC,KAAKH,OAAOsC,cAAcJ,K,4BAG5B,SAAepE,GACbA,EAAMiE,iBACN,IAAMG,EAAa,IAAIC,WAAW,UAAW,IAC7ChC,KAAKH,OAAOsC,cAAcJ,K,kBAG5B,SAAKO,EAAWC,GAAkB,IAAD,IAC/BvC,KAAKF,QAAQ0C,yBAA2B,cACxC,UAAAxC,KAAKF,eAAL,SAAc2C,OAAOH,EAAGC,GACxB,UAAAvC,KAAKF,eAAL,SAAc4C,a,GApEiB9C,I,oDCCjC,WAAYC,GAA4B,IAAD,+BACrC,cAAMA,IAIRc,eALuC,IAMvCgC,YANuC,IAOvCC,YAPuC,IAQvCC,cARuC,IASvCC,cATuC,IAUvCC,WAVuC,EAErC,EAAKnC,SAFgC,E,2CAYvC,WACEZ,KAAKH,OAAOK,YAAcF,KAAKa,gBAAgBC,KAAKd,MACpDA,KAAKH,OAAOM,YAAcH,KAAKe,gBAAgBD,KAAKd,MACpDA,KAAKH,OAAOO,UAAYJ,KAAKgB,cAAcF,KAAKd,MAChDA,KAAKH,OAAOQ,aAAeL,KAAKiB,gBAAgBH,KAAKd,MACrDA,KAAKH,OAAOqB,YAAclB,KAAKmB,gBAAgBL,KAAKd,MACpDA,KAAKH,OAAOS,WAAaN,KAAKoB,eAAeN,KAAKd,Q,6BAGpD,SAAgBrC,GAA0B,IAAD,EACvCqC,KAAKW,WAAY,EACjB,UAAAX,KAAKF,eAAL,SAAcuB,YACdrB,KAAK2C,OAAShF,EAAM4D,MAAQvB,KAAKH,OAAO2B,WACxCxB,KAAK4C,OAASjF,EAAM8D,MAAQzB,KAAKH,OAAO6B,UACxC1B,KAAK+C,MAAQ/C,KAAKH,OAAOmD,c,6BAG3B,SAAgBrF,GACd,GAAIqC,KAAKW,UAAW,CAClB,IAAMkC,EAAWlF,EAAM4D,MAAQvB,KAAKH,OAAO2B,WACrCsB,EAAWnF,EAAM8D,MAAQzB,KAAKH,OAAO6B,UACrClJ,EAAQqK,EAAW7C,KAAK2C,OACxBM,EAASH,EAAW9C,KAAK4C,OAC/B5C,KAAK2B,KAAK3B,KAAK2C,OAAQ3C,KAAK4C,OAAQpK,EAAOyK,M,2BAI/C,WACEjD,KAAKW,WAAY,I,6BAGnB,SAAgBhD,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QACfC,QAASL,EAAMK,UAEjBlC,KAAKH,OAAOsC,cAAcJ,K,6BAG5B,SAAgBpE,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QAAUjC,KAAKH,OAAOuC,WACrCF,QAASL,EAAMK,QAAUlC,KAAKH,OAAOwC,YAEvCrC,KAAKH,OAAOsC,cAAcJ,K,4BAG5B,SAAepE,GACbA,EAAMiE,iBACN,IAAMG,EAAa,IAAIC,WAAW,UAAW,IAC7ChC,KAAKH,OAAOsC,cAAcJ,K,kBAG5B,SAAKO,EAAWC,EAAW/J,EAAeyK,GAAuB,IAAD,OACxDC,EAAM,IAAIC,MAChBD,EAAIE,IAAMpD,KAAK+C,MACfG,EAAIG,OAAS,WAAO,IAAD,YACjB,EAAKvD,QAAQ0C,yBAA2B,cACxC,YAAK1C,eAAL,SAAcwD,UAAU,EAAG,EAAG,EAAKzD,OAAOrH,MAAO,EAAKqH,OAAOoD,QAC7D,YAAKnD,eAAL,SAAcyD,UAAUL,EAAK,EAAG,EAAG,EAAKrD,OAAOrH,MAAO,EAAKqH,OAAOoD,QAClE,YAAKnD,eAAL,SAAcuB,YACd,YAAKvB,eAAL,SAAc0D,KAAKlB,EAAGC,EAAG/J,EAAOyK,GAChC,YAAKnD,eAAL,SAAc2D,OACd,YAAK3D,eAAL,SAAc4C,c,GAhFmB9C,I,oDCCrC,WAAYC,GAA4B,IAAD,+BACrC,cAAMA,IAIRc,eALuC,IAMvCgC,YANuC,IAOvCC,YAPuC,IAQvCG,WARuC,EAErC,EAAKnC,SAFgC,E,2CAUvC,WACEZ,KAAKH,OAAOK,YAAcF,KAAKa,gBAAgBC,KAAKd,MACpDA,KAAKH,OAAOM,YAAcH,KAAKe,gBAAgBD,KAAKd,MACpDA,KAAKH,OAAOO,UAAYJ,KAAKgB,cAAcF,KAAKd,MAChDA,KAAKH,OAAOQ,aAAeL,KAAKiB,gBAAgBH,KAAKd,MACrDA,KAAKH,OAAOqB,YAAclB,KAAKmB,gBAAgBL,KAAKd,MACpDA,KAAKH,OAAOS,WAAaN,KAAKoB,eAAeN,KAAKd,Q,6BAGpD,SAAgBrC,GAA0B,IAAD,EACvCqC,KAAKW,WAAY,EACjB,UAAAX,KAAKF,eAAL,SAAcuB,YACdrB,KAAK2C,OAAShF,EAAM4D,MAAQvB,KAAKH,OAAO2B,WACxCxB,KAAK4C,OAASjF,EAAM8D,MAAQzB,KAAKH,OAAO6B,UACxC1B,KAAK+C,MAAQ/C,KAAKH,OAAOmD,c,6BAG3B,SAAgBrF,GACd,GAAIqC,KAAKW,UAAW,CAClB,IAAMkC,EAAWlF,EAAM4D,MAAQvB,KAAKH,OAAO2B,WACrCsB,EAAWnF,EAAM8D,MAAQzB,KAAKH,OAAO6B,UACrClJ,EAAQqK,EAAW7C,KAAK2C,OACxBM,EAASH,EAAW9C,KAAK4C,OACzBc,EAASC,KAAKC,IAAIpL,EAAQA,EAAQyK,EAASA,EAAQ,IACzDjD,KAAK2B,KAAK3B,KAAK2C,OAAQ3C,KAAK4C,OAAQc,M,2BAIxC,WACE1D,KAAKW,WAAY,I,6BAGnB,SAAgBhD,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QACfC,QAASL,EAAMK,UAEjBlC,KAAKH,OAAOsC,cAAcJ,K,6BAG5B,SAAgBpE,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QAAUjC,KAAKH,OAAOuC,WACrCF,QAASL,EAAMK,QAAUlC,KAAKH,OAAOwC,YAEvCrC,KAAKH,OAAOsC,cAAcJ,K,4BAG5B,SAAepE,GACbA,EAAMiE,iBACN,IAAMG,EAAa,IAAIC,WAAW,UAAW,IAC7ChC,KAAKH,OAAOsC,cAAcJ,K,kBAG5B,SAAKO,EAAWC,EAAWmB,GAAuB,IAAD,OACzCR,EAAM,IAAIC,MAChBD,EAAIE,IAAMpD,KAAK+C,MACfG,EAAIG,OAAS,WAAO,IAAD,YACjB,EAAKvD,QAAQ0C,yBAA2B,cACxC,YAAK1C,eAAL,SAAcwD,UAAU,EAAG,EAAG,EAAKzD,OAAOrH,MAAO,EAAKqH,OAAOoD,QAC7D,YAAKnD,eAAL,SAAcyD,UAAUL,EAAK,EAAG,EAAG,EAAKrD,OAAOrH,MAAO,EAAKqH,OAAOoD,QAClE,YAAKnD,eAAL,SAAcuB,YACd,YAAKvB,eAAL,SAAc+D,IAAIvB,EAAGC,EAAGmB,EAAQ,EAAa,EAAVC,KAAKG,IACxC,YAAKhE,eAAL,SAAc2D,OACd,YAAK3D,eAAL,SAAc4C,c,GA/EgB9C,I,oDCClC,WAAYC,GAA4B,IAAD,+BACrC,cAAMA,IAIRc,eALuC,IAMvCgC,YANuC,IAOvCC,YAPuC,IAQvCC,cARuC,IASvCC,cATuC,IAUvCC,WAVuC,EAErC,EAAKnC,SAFgC,E,2CAYvC,WACEZ,KAAKH,OAAOK,YAAcF,KAAKa,gBAAgBC,KAAKd,MACpDA,KAAKH,OAAOM,YAAcH,KAAKe,gBAAgBD,KAAKd,MACpDA,KAAKH,OAAOO,UAAYJ,KAAKgB,cAAcF,KAAKd,MAChDA,KAAKH,OAAOQ,aAAeL,KAAKiB,gBAAgBH,KAAKd,MACrDA,KAAKH,OAAOqB,YAAclB,KAAKmB,gBAAgBL,KAAKd,MACpDA,KAAKH,OAAOS,WAAaN,KAAKoB,eAAeN,KAAKd,Q,6BAGpD,SAAgB+D,GAAsB,IAAD,IACnC/D,KAAKW,WAAY,EACjB,UAAAX,KAAKF,eAAL,SAAcuB,YACdrB,KAAK6C,SAAWkB,EAAExC,MAAQvB,KAAKH,OAAO2B,WACtCxB,KAAK8C,SAAWiB,EAAEtC,MAAQzB,KAAKH,OAAO6B,UACtC,UAAA1B,KAAKF,eAAL,SAAcwB,OAAOtB,KAAK6C,SAAU7C,KAAK8C,UACzC9C,KAAK+C,MAAQ/C,KAAKH,OAAOmD,c,6BAG3B,SAAgBe,GACd,GAAI/D,KAAKW,UAAW,CAClB,IAAMkC,EAAWkB,EAAExC,MAAQvB,KAAKH,OAAO2B,WACjCsB,EAAWiB,EAAEtC,MAAQzB,KAAKH,OAAO6B,UACvC1B,KAAK2B,KAAKkB,EAAUC,M,2BAIxB,WACE9C,KAAKW,WAAY,I,6BAGnB,SAAgBhD,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QACfC,QAASL,EAAMK,UAEjBlC,KAAKH,OAAOsC,cAAcJ,K,6BAG5B,SAAgBpE,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QAAUjC,KAAKH,OAAOuC,WACrCF,QAASL,EAAMK,QAAUlC,KAAKH,OAAOwC,YAEvCrC,KAAKH,OAAOsC,cAAcJ,K,4BAG5B,SAAepE,GACbA,EAAMiE,iBACN,IAAMG,EAAa,IAAIC,WAAW,UAAW,IAC7ChC,KAAKH,OAAOsC,cAAcJ,K,kBAG5B,SAAKO,EAAWC,GAAkB,IAAD,OACzBW,EAAM,IAAIC,MAChBD,EAAIE,IAAMpD,KAAK+C,MACfG,EAAIG,OAAS,WAAO,IAAD,YACjB,EAAKvD,QAAQ0C,yBAA2B,cACxC,YAAK1C,eAAL,SAAcwD,UAAU,EAAG,EAAG,EAAKzD,OAAOrH,MAAO,EAAKqH,OAAOoD,QAC7D,YAAKnD,eAAL,SAAcyD,UAAUL,EAAK,EAAG,EAAG,EAAKrD,OAAOrH,MAAO,EAAKqH,OAAOoD,QAClE,YAAKnD,eAAL,SAAcuB,YACd,YAAKvB,eAAL,SAAcwB,OAAO,EAAKuB,SAAU,EAAKC,UACzC,YAAKhD,eAAL,SAAc2C,OAAOH,EAAGC,GACxB,YAAKzC,eAAL,SAAc4C,c,GA/Ec9C,I,oDCChC,WAAYC,GAA4B,IAAD,+BACrC,cAAMA,IAIRc,eALuC,EAErC,EAAKC,SAFgC,E,2CAOvC,WACEZ,KAAKH,OAAOK,YAAcF,KAAKa,gBAAgBC,KAAKd,MACpDA,KAAKH,OAAOM,YAAcH,KAAKe,gBAAgBD,KAAKd,MACpDA,KAAKH,OAAOO,UAAYJ,KAAKgB,cAAcF,KAAKd,MAChDA,KAAKH,OAAOQ,aAAeL,KAAKiB,gBAAgBH,KAAKd,MACrDA,KAAKH,OAAOqB,YAAclB,KAAKmB,gBAAgBL,KAAKd,MACpDA,KAAKH,OAAOS,WAAaN,KAAKoB,eAAeN,KAAKd,Q,6BAGpD,SAAgBrC,GAA0B,IAAD,IACvCqC,KAAKW,WAAY,EACjB,UAAAX,KAAKF,eAAL,SAAcuB,YACd,UAAArB,KAAKF,eAAL,SAAcwB,OACZ3D,EAAM4D,MAAQvB,KAAKH,OAAO2B,WAC1B7D,EAAM8D,MAAQzB,KAAKH,OAAO6B,a,6BAI9B,SAAgB/D,GACVqC,KAAKW,WACPX,KAAK2B,KACHhE,EAAM4D,MAAQvB,KAAKH,OAAO2B,WAC1B7D,EAAM8D,MAAQzB,KAAKH,OAAO6B,a,2BAKhC,WACE1B,KAAKW,WAAY,I,6BAGnB,SAAgBhD,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QACfC,QAASL,EAAMK,UAEjBlC,KAAKH,OAAOsC,cAAcJ,K,6BAG5B,SAAgBpE,GACdA,EAAMiE,iBACN,IAAMC,EAAQlE,EAAMmE,QAAQ,GACtBC,EAAa,IAAIC,WAAW,YAAa,CAC7CC,QAASJ,EAAMI,QAAUjC,KAAKH,OAAOuC,WACrCF,QAASL,EAAMK,QAAUlC,KAAKH,OAAOwC,YAEvCrC,KAAKH,OAAOsC,cAAcJ,K,4BAG5B,SAAepE,GACbA,EAAMiE,iBACN,IAAMG,EAAa,IAAIC,WAAW,UAAW,IAC7ChC,KAAKH,OAAOsC,cAAcJ,K,kBAG5B,SAAKO,EAAWC,GAAsD,IAAD,EAA1CmB,EAA0C,uDAAjC,GAClC1D,KAAKF,QAAQ0C,yBAA2B,kBACxCxC,KAAKF,QAAQwB,OAAOgB,EAAGC,GACvBvC,KAAKF,QAAQ+D,IAAIvB,EAAGC,EAAGmB,EAAQ,EAAa,EAAVC,KAAKG,IAAQ,GAC/C9D,KAAKF,QAAQ2D,OACb,UAAAzD,KAAKF,eAAL,SAAc4C,a,GAtEkB9C,I,oDCClC,WAAYC,GAA4B,IAAD,+BACrC,cAAMA,IACD8B,OAFgC,E,yCAKvC,WACE3B,KAAKF,QAAQ0C,yBAA2B,kBACxCxC,KAAKF,QAAQwD,UAAU,EAAG,EAAGtD,KAAKH,OAAOrH,MAAOwH,KAAKH,OAAOoD,QAC5DjD,KAAKF,QAAQuB,gB,GATqBzB,KCoBvBoE,GAZD,CCVC,IAA0B,kCCA1B,IAA0B,mCCA1B,IAA0B,sCCA1B,IAA0B,iCCA1B,IAA0B,iCCA1B,IAA0B,kCCA1B,IAA0B,mCCA1B,IAA0B,iCCA1B,IAA0B,kCCUlC,I,eAAMC,GAAY,SAACpE,EAAQzF,GAChC,GAC2B,qBAAlByF,EAAOqE,QACa,qBAApBrE,EAAOsE,SACd,CACA,IAAIC,EAZC,uCAAuCC,QAAQ,SAAS,SAAUC,GACvE,IAAIC,EAAqB,GAAhBZ,KAAKa,SAAiB,EAE/B,OADW,KAALF,EAAWC,EAAS,EAAJA,EAAW,GACxBE,SAAS,OAUlB5E,EAAOqE,QAAO,SAAUQ,IACV,IAAIvB,OACVC,IAAMsB,EAIZ/K,GACGgL,MAAM,UAAYvK,EAAM,IAAMgK,GAC9BQ,IAAIF,EALQ,CACbG,YAAa,cAKZrI,MAAK,SAAUsI,GACdnK,QAAQoK,IAAI,WAAYD,EAASE,WAAY,aAE9CtI,OAAM,SAAU9B,GACfD,QAAQC,MAAM,iBAAkBA,WAM7BqK,GAAY,uCAAG,WAAOC,EAAa9K,GAApB,SAAAH,EAAA,sDAC1BN,GACGgL,MAAM,UAAYvK,EAAM,KACxB+K,UACA3I,KAHH,uCAGQ,WAAM4I,GAAN,eAAAnL,EAAA,6DACAoL,EAAS,GADT,SAEEC,QAAQC,IACZH,EAAOI,MAAMC,IAAb,uCAAiB,WAAMC,GAAN,SAAAzL,EAAA,sEACTyL,EAASC,iBAAiBnJ,MAAK,SAAAoJ,GACnCP,EAAOjG,KAAKwG,MAFC,2CAAjB,wDAHE,uBASEV,EAAY,GAAD,OAAKG,IATlB,OAUJ1L,GAAWgL,MAAM,UAAYvK,EAAM,KAV/B,2CAHR,uDAD0B,2CAAH,wDCoIVyL,GA9JC,WACd,IAAMtJ,EAAWa,cACX0I,EAAYC,aAAY,SAACC,GAAD,OAA2BA,EAAMC,iBACzDlM,EAAOgM,aAAY,SAACC,GAAD,OAA2BA,EAAME,eAEpDC,EAAW,WACXL,GACFvJ,EACER,GAAWE,aAAa7D,QAAQ,IAAIsI,GAAM,GAAGoF,EAAUM,YAyF7D,OAJAC,qBAAU,WACRF,MACC,IAGD,eAAC,GAAOjQ,UAAR,UACE,gBAAC,GAAOI,KAAR,WACE,gBAAC,GAAOmJ,YAAR,WACE,gDACA,wBACE9H,KAAK,QACL+F,SAAU,SAAAC,GAAK,OAtCD,SAACA,GACnBmI,GACFvJ,EAASR,GAAWE,aAAa/D,aAAayF,EAAM2I,OAAO9I,QAoClC+I,CAAgB5I,IACnCa,MAAO,eAET,kDACA,wBACE7G,KAAK,QACL+F,SAAU,SAAAC,GAAK,OAlDC,SAACA,GACrBmI,GACFvJ,EAASR,GAAWE,aAAa3D,eAAeqF,EAAM2I,OAAO9I,QAgDpCgJ,CAAkB7I,IACrCa,MAAO,iBAET,gDACA,wBACE7G,KAAK,QACL8O,IAAK,EACLC,IAAK,GACLC,aAAc,EACdC,KAAM,EACNpI,MAAO,4EACPd,SAAU,SAAAC,GAAK,OA5EP,SAACA,GACbmI,GACFvJ,EAASR,GAAWE,aAAa1D,aAAaoF,EAAM2I,OAAO9I,QA0ElCiD,CAAU9C,SAGjC,gBAAC,GAAOgC,QAAR,WACE,eAAC,GAAOtJ,OAAR,CAAeyH,QAhGP,WACVgI,GACFvJ,EACER,GAAWE,aAAa7D,QAAQ,IAAIsI,GAAM,GAAGoF,EAAUM,YA6FrD,SACE,sBAAKhD,IAAKY,GAAM,OAElB,eAAC,GAAO3N,OAAR,CAAeyH,QAASqI,EAAxB,SACE,sBAAK/C,IAAKY,GAAM,OAElB,eAAC,GAAO3N,OAAR,CAAeyH,QAtHP,WACVgI,GACFvJ,EACER,GAAWE,aAAa7D,QAAQ,IAAIsI,GAAM,GAAGoF,EAAUM,YAmHrD,SACE,sBAAKhD,IAAKY,GAAM,OAElB,eAAC,GAAO3N,OAAR,CAAeyH,QAjHL,WACZgI,GACFvJ,EACER,GAAWE,aAAa7D,QAAQ,IAAIsI,GAAM,GAAGoF,EAAUM,YA8GrD,SACE,sBAAKhD,IAAKY,GAAM,OAElB,eAAC,GAAO3N,OAAR,CAAeyH,QApGL,WACZgI,GACFvJ,EACER,GAAWE,aAAa7D,QAAQ,IAAIsI,GAAM,GAAGoF,EAAUM,YAiGrD,SACE,sBAAKhD,IAAKY,GAAM,OAElB,eAAC,GAAO3N,OAAR,CAAeyH,QApEV,WACPgI,GACFvJ,EAASR,GAAWC,cAAcnE,SAkE9B,SACE,sBAAKuL,IAAKY,GAAM,OAElB,eAAC,GAAO3N,OAAR,CAAeyH,QAjEV,WACPgI,GACFvJ,EAASR,GAAWC,cAAc/D,SA+D9B,SACE,sBAAKmL,IAAKY,GAAM,OAElB,eAAC,GAAO3N,OAAR,CAAeyH,QA/FN,WACXgI,IACFvJ,EACER,GAAWE,aAAa7D,QAAQ,IAAIsI,GAAM,GAAGoF,EAAUM,WAEzDhL,IAAMC,QAAQ,eA0FV,SACE,sBAAK+H,IAAKY,GAAM,OAElB,eAAC,GAAO3N,OAAR,CAAeyH,QAjEC,WACtB,GAAKgI,EAAL,CAD4B,IAIpB1L,EAAQL,EAAKA,KAAbK,IACR6J,GAAU6B,EAAUM,QAAShM,GAC7BgB,IAAMC,QAAQ,iBA2DR,SACE,sBAAK+H,IAAKY,GAAM,gBCnIbhG,GA1BA,CACb9H,UAAWC,IAAOC,IAAT,8XAkBTuJ,QAASxJ,IAAOC,IAAT,oHCRMyQ,GAbM,SAACC,GACpB,GAAyB,MAArBA,EAAUV,QAAd,CAEA,IAAMW,EAAaD,EAAUV,QAAQW,WAErCD,EAAUV,QAAQ5N,MAAQwO,SACxBC,iBAAiBF,GAAYG,iBAAiB,UAEhDJ,EAAUV,QAAQnD,OAAS+D,SACzBC,iBAAiBF,GAAYG,iBAAiB,aCTnC,OAA0B,oCCA1B,OAA0B,oCC+D1BC,GApDA,WACb,IAAM5K,EAAWa,cACX0I,EAAYC,aAAY,SAACC,GAAD,OAA2BA,EAAMC,iBACzDhH,EAAUC,cAChBmH,qBAAU,WACR9J,EAASR,GAAWC,cAAcvE,OAAOqO,EAAUM,YAClD,IAEH,IAAMvF,EAAkB,WAAO,IAAD,GAC5B,UAAIiF,EAAUM,eAAd,aAAI,EAAmBpD,YACrBzG,EACER,GAAWC,cAAclE,WAAWgO,EAAUM,QAAQpD,eAS5DqD,qBAAU,WACRQ,GAAaf,KACZ,IAMH,OACE,uCACE,gBAAC,GAAOnG,QAAR,WACE,0BAAQ7B,QAfE,WACdvB,EAASR,GAAWG,YAAYW,YAc5B,UACE,sBAAKuG,IAAKgE,KADZ,cAIA,0BAAQtJ,QAXa,WACzBmB,EAAQG,KAAK,aAUT,UACE,sBAAKgE,IAAKiE,KADZ,gBAKF,gBAAC,GAAMnR,UAAP,WACE,yBACEoR,YAAazG,EACb0G,aAAc1G,EACdhH,IAAKiM,IAEP,eAAC,GAAD,WCzBO9H,GA9BA,CACb9H,UAAWC,IAAOC,IAAT,yRAaToR,IAAKrR,IAAO+M,IAAT,8NAQHuE,KAAMtR,IAAOC,IAAT,uI,UCuBSsR,GAvCC,WACd,IAAM3N,EAAOgM,aAAY,SAACC,GAAD,OAA2BA,EAAME,eACpDjH,EAAUC,cAFI,EAGYhC,mBAAS,IAHrB,mBAGbyK,EAHa,KAGHzC,EAHG,KAIZ9K,EAAQL,EAAKA,KAAbK,IAERiM,qBAAU,YACU,uCAAG,sBAAApM,EAAA,sEACbgL,GAAaC,EAAa9K,GADb,2CAAH,qDAIlBwN,KACC,IAMH,OACE,uCACE,gBAAC,KAAD,CAAQ9J,QANU,WACpBmB,EAAQG,KAAK,MAKqBzH,KAAK,UAArC,UACE,sBAAKyL,IAAKgE,KADZ,YAGCO,EAASrO,OAAS,EACjB,eAAC,GAAMpD,UAAP,UACE,+BACGyR,EAASlC,KAAI,SAACoC,EAASC,GACtB,OAAO,eAAC,GAAMN,IAAP,CAAWpE,IAAKyE,EAASE,IAAI,IAAQD,UAKlD,eAAC,GAAML,KAAP,UACE,2DCjBKO,GAnBD,WACZ,OACE,qCACE,gBAAC,IAAD,WACE,eAAC,IAAD,CAAO1I,KAAK,UAAZ,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOA,KAAK,WAAZ,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,eAAC,IAAD,CAAUvB,GAAG,oBCqBRkK,GA3BA,WACb,IAAMlO,EAAOgM,aAAY,SAAAC,GAAK,OAAIA,EAAME,eAClC3J,EAAWa,cAWjB,OATAiJ,qBAAU,WACR5M,GAAKyO,mBAAL,+BAAAjO,EAAA,MAAwB,WAAMkO,GAAN,eAAAlO,EAAA,sEACHH,GAAqBqO,GADlB,QAChBpO,EADgB,SAGpBwC,EAASR,GAAWG,YAAYC,OAAOpC,IAHnB,2CAAxB,yDAMC,IAEIA,EAAKqO,MACV,uCACE,eAAC,IAAD,IACA,eAAC,IAAD,UACE,eAAC,GAAD,SAIJ,eAAC,IAAD,UACE,eAAC,GAAD,OCvBSC,GAJH,WACV,OAAO,eAAC,GAAD,K,mBCGHC,GAAe,CACnBxC,UAAW,KACXjO,KAAM,GACNI,KAAM,IAiGOgO,GA9FO,WAGhB,IAFJD,EAEG,uDAFkBsC,GACrBC,EACG,uCACH,OAAQA,EAAO5Q,MACb,KAAKhB,EACH,OAAO,6BACFqP,GADL,IAEEF,UAAWyC,EAAO3Q,UAItB,KAAKf,EACH,OAAO,6BACFmP,GADL,IAEE/N,KAAK,GAAD,oBAAM+N,EAAM/N,MAAZ,CAAkBsQ,EAAO3Q,YAIjC,KAAKhB,EACH,OAAO,6BACFoP,GADL,IAEE/N,KAAK,GAAD,oBAAM+N,EAAMnO,MAAZ,CAAkB0Q,EAAO3Q,YAIjC,KAAKb,EACH,IAAM8I,EAA0CmG,EAAMF,UAAU/F,WAC9D,MAGF,GADAF,EAAO2C,yBAA2B,cAC9BwD,EAAMnO,KAAKyB,OAAS,EAAG,CACzB,IAAMkP,EAAUxC,EAAMnO,KAAK4Q,MAC3BzC,EAAM/N,KAAKmH,KAAK4G,EAAMF,UAAU9C,aAChC,IAAME,EAAM,IAAIC,MAChBD,EAAIE,IAAMoF,EACVtF,EAAIG,OAAS,WACL,OAANxD,QAAM,IAANA,KAAQyD,UACN,EACA,EACA0C,EAAMF,UAAUtN,MAChBwN,EAAMF,UAAU7C,QAEZ,OAANpD,QAAM,IAANA,KAAQ0D,UACNL,EACA,EACA,EACA8C,EAAMF,UAAUtN,MAChBwN,EAAMF,UAAU7C,SAItB,OAAO,gBACF+C,GAIP,KAAKlP,EACH,IAAM+I,EAA0CmG,EAAMF,UAAU/F,WAC9D,MAGF,GADAF,EAAO2C,yBAA2B,cAC9BwD,EAAM/N,KAAKqB,OAAS,EAAG,CACzB,IAAMkP,EAAUxC,EAAM/N,KAAKwQ,MAC3BzC,EAAMnO,KAAKuH,KAAK4G,EAAMF,UAAU9C,aAChC,IAAME,EAAM,IAAIC,MAChBD,EAAIE,IAAMoF,EACVtF,EAAIG,OAAS,WACL,OAANxD,QAAM,IAANA,KAAQyD,UACN,EACA,EACA0C,EAAMF,UAAUtN,MAChBwN,EAAMF,UAAU7C,QAEZ,OAANpD,QAAM,IAANA,KAAQ0D,UACNL,EACA,EACA,EACA8C,EAAMF,UAAUtN,MAChBwN,EAAMF,UAAU7C,SAKtB,OAAO,gBACF+C,GAIP,QACE,OAAOA,ICjGP0C,GAAgB,CACpBrQ,UAAMoE,GAwCOkM,GArCM,WAGf,IAFJ3C,EAEG,uDAFiB0C,GACpBH,EACG,uCACH,OAAQA,EAAO5Q,MACb,KAAKX,EACH,OAAO,6BACFgP,GADL,IAEE3N,KAAMkQ,EAAO3Q,UAIjB,KAAKX,EAIH,OAHI+O,EAAM3N,OACR2N,EAAM3N,KAAKuQ,UAAYL,EAAO3Q,SAEzBoO,EAGT,KAAK9O,EAIH,OAHI8O,EAAM3N,OACR2N,EAAM3N,KAAKwQ,YAAcN,EAAO3Q,SAE3BoO,EAGT,KAAK7O,EAIH,OAHI6O,EAAM3N,OACR2N,EAAM3N,KAAKoI,UAAY8H,EAAO3Q,SAEzBoO,EAET,QACE,OAAOA,ICpCPsC,GAAe,CACnBF,OAAO,EACPrO,KAAM,MA2COmM,GAxCK,WAA2D,IAA1DF,EAAyD,uDAAtCsC,GAAcC,EAAwB,uCAC5E,OAAQA,EAAO5Q,MACb,KAAKP,EACH,OAAO,6BACF4O,GADL,IAEEoC,OAAO,EACPrO,KAAMwO,EAAO3Q,UAGjB,KAAKN,GACH,OAAO,6BACF0O,GADL,IAEEoC,OAAO,EACPrO,KAAM,OAGV,KAAKxC,GACH,OAAO,6BACFyO,GADL,IAEEoC,OAAO,IAGX,KAAK/Q,GACH,OAAO,6BACF2O,GADL,IAEEoC,OAAO,EACPrO,KAAMwO,EAAO3Q,UAGjB,KAAKJ,GACH,OAAO,6BACFwO,GADL,IAEEoC,OAAO,IAGX,QACE,OAAOpC,ICxCE8C,GANKC,aAAgB,CAClC9C,iBACA0C,gBACAzC,iB,UCDa8C,GAFDC,aAAYH,GAAaI,aAAgBC,OCGvDC,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,IAAD,CAAUN,MAAOA,GAAjB,SACE,eAAC,GAAD,QAGJO,SAASC,eAAe,W","file":"static/js/main.820c20d9.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nconst Style = {\r\n  Container: styled.div`\r\n    // max-width: 750px;\r\n    // margin: 0 auto;\r\n    // margin-top: 50px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    max-width: 400px;\r\n    margin: 0 auto;\r\n    height: 500px;\r\n    border-radius: 3px;\r\n    padding-top: 20px;\r\n  `,\r\n  Button: styled.div`\r\n    width: 250px;\r\n    & > .ResetPas {\r\n      width: 200px;\r\n      background: rgb(151, 11, 221);\r\n      background: linear-gradient(\r\n        90deg,\r\n        rgba(151, 11, 221, 1) 0%,\r\n        rgba(128, 11, 93, 1) 35%,\r\n        rgba(237, 120, 10, 1) 100%\r\n      );\r\n      border: none;\r\n      font-size: 18px;\r\n      height: 30px;\r\n      color: white;\r\n      transition: 0.4s linear;\r\n    }\r\n    & > .ResetPas:hover {\r\n      background-color: #e1dfdf;\r\n      color: black;\r\n      border: none;\r\n    }\r\n  `,\r\n  Form: styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    text-align: center;\r\n    border: 1px solid black;\r\n    padding: 80px;\r\n    box-shadow: inset 0 0 0 1px #337ab7;\r\n    @media (max-width: 768px) {\r\n      padding: 0;\r\n      box-shadow: none;\r\n      border: none;\r\n    }\r\n  `,\r\n  Title: styled.div`\r\n    font-size: 30px;\r\n    font-style: italic;\r\n    padding-bottom: 30px;\r\n  `,\r\n  Links: styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    text-align: center;\r\n    justify-content: space-between;\r\n    margin: 20px 0;\r\n    & > Link {\r\n      color: black;\r\n    }\r\n  `,\r\n  Accept: styled.span`\r\n    color: green;\r\n  `,\r\n};\r\n\r\nexport default Style;\r\n","export const SET_REF = 'SET_REF';\r\nexport const PUSH_TO_UNDO = 'PUSH_TO_UNDO';\r\nexport const PUSH_TO_REDO = 'PUSH_TO_REDO';\r\nexport const UNDO = 'UNDO';\r\nexport const REDO = 'REDO';\r\n\r\nexport const SET_TOOL = 'SET_TOOL';\r\nexport const SET_FILL_COLOR = 'SET_FILL_COLOR';\r\nexport const SET_STROKE_COLOR = 'SET_STROKE_COLOR';\r\nexport const SET_LINE_WIDTH = 'SET_LINE_WIDTH';\r\n\r\nexport const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_UP = 'SIGN_UP';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\nexport const RESET_PASSW = 'RESET_PASSW';\r\nexport const SIGN_ERROR = 'SIGN_ERROR';\r\n","import { PUSH_TO_REDO, PUSH_TO_UNDO, REDO, SET_REF, UNDO } from './constans.d';\r\n\r\nconst setRef = (canvasState: HTMLCanvasElement | null) => {\r\n  return {\r\n    type: SET_REF,\r\n    payload: canvasState,\r\n  };\r\n};\r\n\r\nconst redo = () => {\r\n  return {\r\n    type: REDO,\r\n  };\r\n};\r\n\r\nconst undo = () => {\r\n  return {\r\n    type: UNDO,\r\n  };\r\n};\r\n\r\nconst pushToRedo = (data: string) => {\r\n  return {\r\n    type: PUSH_TO_REDO,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst pushToUndo = (data: string) => {\r\n  return {\r\n    type: PUSH_TO_UNDO,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport default { setRef, undo, pushToRedo, pushToUndo, redo };\r\n","import { ToolType } from 'type/types';\r\nimport {\r\n  SET_FILL_COLOR,\r\n  SET_LINE_WIDTH,\r\n  SET_STROKE_COLOR,\r\n  SET_TOOL,\r\n} from './constans.d';\r\n\r\nconst setTool = (tool: ToolType) => {\r\n  return {\r\n    type: SET_TOOL,\r\n    payload: tool,\r\n  };\r\n};\r\n\r\nconst setFillColor = (color: string) => {\r\n  return {\r\n    type: SET_FILL_COLOR,\r\n    payload: color,\r\n  };\r\n};\r\n\r\nconst setStrokeColor = (color: string) => {\r\n  return {\r\n    type: SET_STROKE_COLOR,\r\n    payload: color,\r\n  };\r\n};\r\n\r\nconst setLineWidth = (width: number) => {\r\n  return {\r\n    type: SET_LINE_WIDTH,\r\n    payload: width,\r\n  };\r\n};\r\n\r\nexport default { setFillColor, setTool, setStrokeColor, setLineWidth };\r\n","import {\r\n  REACT_APP_API_KEY,\r\n  REACT_APP_APP_ID,\r\n  REACT_APP_AUTH_DOMAIN,\r\n  REACT_APP_DATABASE_URL,\r\n  REACT_APP_MESSAGING_SENDER_ID,\r\n  REACT_APP_PROJECT_ID,\r\n  REACT_APP_STORAGE_BUCKET,\r\n} from './base';\r\n\r\nconst config = {\r\n  apiKey: REACT_APP_API_KEY,\r\n  authDomain: REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: REACT_APP_DATABASE_URL,\r\n  projectId: REACT_APP_PROJECT_ID,\r\n  storageBucket: REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: REACT_APP_APP_ID,\r\n};\r\nexport default config;\r\n","export const REACT_APP_API_KEY = process.env.REACT_APP_API_KEY;\r\nexport const REACT_APP_AUTH_DOMAIN = process.env.REACT_APP_AUTH_DOMAIN;\r\nexport const REACT_APP_DATABASE_URL = process.env.REACT_APP_DATABASE_URL;\r\nexport const REACT_APP_PROJECT_ID = process.env.REACT_APP_PROJECT_ID;\r\nexport const REACT_APP_STORAGE_BUCKET = process.env.REACT_APP_STORAGE_BUCKET;\r\nexport const REACT_APP_MESSAGING_SENDER_ID =\r\n  process.env.REACT_APP_MESSAGING_SENDER_ID;\r\nexport const REACT_APP_APP_ID = process.env.REACT_APP_APP_ID;\r\n","import firebase from '@firebase/app';\r\nimport '@firebase/auth';\r\nimport '@firebase/storage';\r\nimport '@firebase/firestore';\r\nimport config from './firebaseConfig';\r\n\r\nconst firebaseApp = !firebase.apps.length\r\n  ? firebase.initializeApp(config)\r\n  : firebase.app();\r\n\r\nexport const auth = firebaseApp.auth();\r\nexport const firestore = firebaseApp.firestore();\r\nconst storage = firebaseApp.storage();\r\nexport const storageRef = storage.ref();\r\n\r\nexport const generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n\r\n  if (!snapshot.exists) {\r\n    const { email, displayName, photoURL } = user;\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        photoURL,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error creating user document', error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\n\r\nconst getUserDocument = async uid => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n\r\n    return {\r\n      uid,\r\n      ...userDocument.data(),\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching user', error);\r\n  }\r\n};\r\n","import firebase from 'firebase';\r\nimport toast from 'react-hot-toast';\r\nimport { auth, generateUserDocument } from '.';\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const resetPassword = async email => {\r\n  const res = await auth.sendPasswordResetEmail(email);\r\n  toast.success('Please check your email!');\r\n  return res;\r\n};\r\n\r\nexport const signInEmailAndPassword = async (email, password) => {\r\n  const res = await auth.signInWithEmailAndPassword(email, password);\r\n  toast.success('Good!');\r\n  return res;\r\n};\r\n\r\nexport const signInWithGoogle = async () => {\r\n  const res = await auth.signInWithPopup(provider);\r\n  toast.success('Good!');\r\n  return res;\r\n};\r\n\r\nexport const signUpEmailAndPassword = async (email, password) => {\r\n  const res = await auth.createUserWithEmailAndPassword(email, password);\r\n  toast.success('Create account');\r\n  return res;\r\n};\r\n\r\nexport const SignOut = async () => {\r\n  await auth.signOut();\r\n};\r\n\r\nexport const createUser = async () => {\r\n  auth.onAuthStateChanged(async userAuth => {\r\n    const user = await generateUserDocument(userAuth);\r\n    return user;\r\n  });\r\n};\r\n","import canvasActions from './canvasActions';\r\nimport toolsActions from './toolsActions';\r\nimport authActions from './authActions';\r\n\r\nconst allActions = {\r\n  canvasActions,\r\n  toolsActions,\r\n  authActions,\r\n};\r\n\r\nexport default allActions;\r\n","import {\r\n  RESET_PASSW,\r\n  SIGN_ERROR,\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  SIGN_UP,\r\n} from './constans.d';\r\nimport allActions from '.';\r\nimport { AppDispatch, AuthActions, User } from 'type/types';\r\n\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  resetPassword,\r\n  signInEmailAndPassword,\r\n  signInWithGoogle,\r\n  SignOut,\r\n  signUpEmailAndPassword,\r\n} from '@firebaseConfig/firebaseAuthQueries';\r\n\r\nconst signIn = (user: User | null): AuthActions => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: user,\r\n  };\r\n};\r\n\r\nconst signUp = (user: User | null) => {\r\n  return {\r\n    type: SIGN_UP,\r\n    payload: user,\r\n  };\r\n};\r\n\r\nconst signOut = (): AuthActions => {\r\n  return {\r\n    type: SIGN_OUT,\r\n  };\r\n};\r\n\r\nconst reset_passw = (): AuthActions => {\r\n  return {\r\n    type: RESET_PASSW,\r\n  };\r\n};\r\n\r\nconst sign_error = (): AuthActions => {\r\n  return {\r\n    type: SIGN_ERROR,\r\n  };\r\n};\r\n\r\nconst signin = (email: string, password: string) => {\r\n  return (dispatch: AppDispatch) => {\r\n    signInEmailAndPassword(email, password)\r\n      .then(({ user }: any) => {\r\n        if (user !== undefined) {\r\n          const { uid, email } = user;\r\n          dispatch(allActions.authActions.signIn({ uid, email }));\r\n        }\r\n      })\r\n      .catch(({ message }) => {\r\n        toast.error(message);\r\n        dispatch(allActions.authActions.sign_error());\r\n      });\r\n  };\r\n};\r\n\r\nconst signout = () => {\r\n  return (dispatch: AppDispatch) => {\r\n    SignOut().then(() => {\r\n      dispatch(allActions.authActions.signOut());\r\n    });\r\n  };\r\n};\r\n\r\nconst signup = (email: string, password: string) => {\r\n  return (dispatch: AppDispatch) => {\r\n    signUpEmailAndPassword(email, password)\r\n      .then(({ user }: any) => {\r\n        const { uid, email } = user;\r\n        dispatch(allActions.authActions.signUp({ uid, email }));\r\n      })\r\n      .catch(({ message }) => {\r\n        toast.error(message);\r\n        dispatch(allActions.authActions.sign_error());\r\n      });\r\n  };\r\n};\r\n\r\nconst signInGoogle = () => {\r\n  return (dispatch: AppDispatch) => {\r\n    signInWithGoogle().then(({ user }: any) => {\r\n      const { uid, email } = user;\r\n      dispatch(allActions.authActions.signIn({ uid, email }));\r\n    });\r\n  };\r\n};\r\n\r\nconst resetPassw = (email: string) => {\r\n  return (dispatch: AppDispatch) => {\r\n    resetPassword(email)\r\n      .then(() => {\r\n        dispatch(allActions.authActions.reset_passw());\r\n      })\r\n      .catch(({ message }) => {\r\n        toast.error(message);\r\n        dispatch(allActions.authActions.sign_error());\r\n      });\r\n  };\r\n};\r\n\r\nexport default {\r\n  signIn,\r\n  signOut,\r\n  signUp,\r\n  reset_passw,\r\n  signin,\r\n  signout,\r\n  signup,\r\n  resetPassw,\r\n  signInGoogle,\r\n  sign_error,\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Input } from 'antd';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport Style from './StyledPasswordReset';\r\nimport { useDispatch } from 'react-redux';\r\nimport allActions from '@store/actions';\r\n\r\nconst PasswordReset = () => {\r\n  const [email, setEmail] = useState('');\r\n  const dispatch = useDispatch();\r\n  const onChangeHandler = event => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === 'userEmail') {\r\n      setEmail(value);\r\n    }\r\n  };\r\n\r\n  const sendResetEmail = event => {\r\n    dispatch(allActions.authActions.resetPassw(email));\r\n    setEmail('');\r\n  };\r\n\r\n  return (\r\n    <Style.Container>\r\n      <Toaster />\r\n      <Style.Form>\r\n        <Form>\r\n          <Style.Title>Reset your Password</Style.Title>\r\n          <Form.Item>\r\n            <Input\r\n              type=\"email\"\r\n              name=\"userEmail\"\r\n              id=\"userEmail\"\r\n              value={email}\r\n              placeholder=\"Input your email\"\r\n              onChange={onChangeHandler}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Style.Button>\r\n              <button className=\"ResetPas\" onClick={sendResetEmail}>\r\n                Send me a reset link\r\n              </button>\r\n            </Style.Button>\r\n          </Form.Item>\r\n          <Link to=\"/signIn\">&larr; back to sign in page</Link>\r\n        </Form>\r\n      </Style.Form>\r\n    </Style.Container>\r\n  );\r\n};\r\n\r\nexport default PasswordReset;\r\n","import styled from 'styled-components';\r\n\r\nconst Styled = {\r\n  Container: styled.div`\r\n    // max-width: 750px;\r\n    // margin: 0 auto;\r\n    // margin-top: 50px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    max-width: 400px;\r\n    margin: 0 auto;\r\n    height: 500px;\r\n    border-radius: 3px;\r\n    padding-top: 20px;\r\n  `,\r\n  Button: styled.div`\r\n    padding-left: 10px;\r\n    width: 200px;\r\n    & > .SignIn {\r\n      width: 200px;\r\n      background: rgb(151, 11, 221);\r\n      background: linear-gradient(\r\n        90deg,\r\n        rgba(151, 11, 221, 1) 0%,\r\n        rgba(128, 11, 93, 1) 35%,\r\n        rgba(237, 120, 10, 1) 100%\r\n      );\r\n      border: none;\r\n      font-size: 18px;\r\n      height: 30px;\r\n      color: white;\r\n      transition: 0.4s linear;\r\n    }\r\n    & > .SignIn:hover {\r\n      background-color: #e1dfdf;\r\n      color: black;\r\n      border: none;\r\n    }\r\n    & > .Google {\r\n      width: 200px;\r\n      background-color: white;\r\n      border: none;\r\n      font-size: 15px;\r\n      height: 40px;\r\n      transition: 0.4s linear;\r\n    }\r\n    & > .Google:hover {\r\n      box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25),\r\n        0 10px 10px rgba(0, 0, 0, 0.22);\r\n    }\r\n    & > .Google > span {\r\n      margin-left: 10px;\r\n    }\r\n  `,\r\n  Form: styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    text-align: center;\r\n    justify-content: center;\r\n    border: 1px solid black;\r\n    padding: 80px;\r\n    box-shadow: inset 0 0 0 1px #337ab7;\r\n    @media (max-width: 768px) {\r\n      box-shadow: none;\r\n      border: none;\r\n    }\r\n  `,\r\n  Title: styled.span`\r\n    font-size: 30px;\r\n    font-style: italic;\r\n  `,\r\n  Links: styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    text-align: center;\r\n    justify-content: space-between;\r\n    margin: 20px 0;\r\n    & > Link {\r\n      color: black;\r\n    }\r\n    & > Link > .SignUp {\r\n      border: 1px solid black;\r\n    }\r\n  `,\r\n  Error: styled.span`\r\n    color: red;\r\n  `,\r\n};\r\n\r\nexport default Styled;\r\n","/* eslint-disable react/no-unescaped-entities */\r\nimport React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Form, Input, Divider, Tooltip } from 'antd';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport {\r\n  UserOutlined,\r\n  GoogleOutlined,\r\n  InfoCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport Style from './StyledSignIn';\r\nimport allActions from '@store/actions';\r\n\r\nconst SignIn = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const onChangeHandler = event => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === 'userEmail') {\r\n      setEmail(value);\r\n    } else if (name === 'userPassword') {\r\n      setPassword(value);\r\n    }\r\n  };\r\n\r\n  const logginGoogle = () => {\r\n    dispatch(allActions.authActions.signInGoogle());\r\n  };\r\n\r\n  const logginEmailAndPassword = event => {\r\n    dispatch(allActions.authActions.signin(email, password));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Style.Container>\r\n        <Toaster />\r\n        <Style.Form>\r\n          <Form>\r\n            <Style.Title>Mini paint</Style.Title>\r\n            <Divider />\r\n            <p>\r\n              Welcome to Mini paint.\r\n              <br />\r\n              Please login to your account\r\n            </p>\r\n            <Divider />\r\n            <Form.Item>\r\n              <Input\r\n                type=\"email\"\r\n                name=\"userEmail\"\r\n                value={email}\r\n                placeholder=\"Your email\"\r\n                id=\"userEmail\"\r\n                onChange={onChangeHandler}\r\n                prefix={<UserOutlined />}\r\n                suffix={\r\n                  <Tooltip title=\"Extra information\">\r\n                    <InfoCircleOutlined style={{ color: 'rgba(0,0,0,.45)' }} />\r\n                  </Tooltip>\r\n                }\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Input.Password\r\n                type=\"password\"\r\n                name=\"userPassword\"\r\n                value={password}\r\n                placeholder=\"Your Password\"\r\n                id=\"userPassword\"\r\n                onChange={onChangeHandler}\r\n                suffix={\r\n                  <Tooltip title=\"Extra information\">\r\n                    <InfoCircleOutlined style={{ color: 'rgba(0,0,0,.45)' }} />\r\n                  </Tooltip>\r\n                }\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Style.Button>\r\n                <button className=\"SignIn\" onClick={logginEmailAndPassword}>\r\n                  Login\r\n                </button>\r\n              </Style.Button>\r\n              <Style.Links>\r\n                <Link to=\"/signUp\">\r\n                  <span className=\"SignUp\">Sign up </span>\r\n                </Link>{' '}\r\n                <br />\r\n                <Link to=\"/passwordReset\">\r\n                  <span>Forgot Password?</span>\r\n                </Link>\r\n              </Style.Links>\r\n            </Form.Item>\r\n            <Divider plain>Or Login Using</Divider>\r\n            <Form.Item>\r\n              <Style.Button>\r\n                <button className=\"Google\" onClick={logginGoogle}>\r\n                  <GoogleOutlined />\r\n                  <span>Google</span>\r\n                </button>\r\n              </Style.Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Style.Form>\r\n      </Style.Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import styled from 'styled-components';\r\n\r\nconst Style = {\r\n  Container: styled.div`\r\n    // max-width: 750px;\r\n    // margin: 0 auto;\r\n    // margin-top: 50px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    max-width: 400px;\r\n    margin: 0 auto;\r\n    height: 500px;\r\n    border-radius: 3px;\r\n    padding-top: 20px;\r\n  `,\r\n  Button: styled.div`\r\n    width: 200px;\r\n    & > .SignUp {\r\n      width: 200px;\r\n      background: rgb(151, 11, 221);\r\n      background: linear-gradient(\r\n        90deg,\r\n        rgba(151, 11, 221, 1) 0%,\r\n        rgba(128, 11, 93, 1) 35%,\r\n        rgba(237, 120, 10, 1) 100%\r\n      );\r\n      border: none;\r\n      font-size: 18px;\r\n      height: 30px;\r\n      color: white;\r\n      transition: 0.4s linear;\r\n    }\r\n    & > .SignUp:hover {\r\n      background-color: #e1dfdf;\r\n      color: black;\r\n      border: none;\r\n    }\r\n    & > .Google {\r\n      width: 200px;\r\n      background-color: white;\r\n      border: none;\r\n      font-size: 15px;\r\n      height: 40px;\r\n      transition: 0.4s linear;\r\n    }\r\n    & > .Google:hover {\r\n      box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25),\r\n        0 10px 10px rgba(0, 0, 0, 0.22);\r\n    }\r\n    & > .Google > span {\r\n      margin-left: 10px;\r\n    }\r\n  `,\r\n  Form: styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    text-align: center;\r\n    border: 1px solid black;\r\n    padding: 80px;\r\n    box-shadow: inset 0 0 0 1px #337ab7;\r\n    @media (max-width: 768px) {\r\n      box-shadow: none;\r\n      border: none;\r\n    }\r\n  `,\r\n  Title: styled.div`\r\n    font-size: 30px;\r\n    font-style: italic;\r\n    padding-bottom: 30px;\r\n  `,\r\n  Links: styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    text-align: center;\r\n    justify-content: space-between;\r\n    margin: 20px 0;\r\n    & > Link {\r\n      color: black;\r\n    }\r\n  `,\r\n  Error: styled.span`\r\n    color: red;\r\n  `,\r\n  Toast: styled.div`\r\n    color: red;\r\n  `,\r\n};\r\n\r\nexport default Style;\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState } from 'react';\r\nimport { Form, Input, Divider, Tooltip } from 'antd';\r\nimport { UserOutlined, InfoCircleOutlined } from '@ant-design/icons';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport Style from './StyledSignUp';\r\nimport { useDispatch } from 'react-redux';\r\nimport allActions from '@store/actions';\r\n\r\nconst SignUp = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [displayName, setDisplayName] = useState('');\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const onChangeHandlerEmail = event => {\r\n    const { name, value } = event.currentTarget;\r\n    if (name === 'userEmail') {\r\n      setEmail(value);\r\n    }\r\n  };\r\n\r\n  const onChangeHandlerPassword = event => {\r\n    const { name, value } = event.currentTarget;\r\n    if (name === 'userPassword') {\r\n      setPassword(value);\r\n    }\r\n  };\r\n\r\n  const onChangeHandlerName = event => {\r\n    const { name, value } = event.currentTarget;\r\n    if (name === 'displayName') {\r\n      setDisplayName(value);\r\n    }\r\n  };\r\n\r\n  const createUser = event => {\r\n    dispatch(allActions.authActions.signup(email, password));\r\n    history.push('/canvas');\r\n  };\r\n\r\n  const logginGoogle = () => {\r\n    try {\r\n      dispatch(allActions.authActions.signInGoogle());\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Style.Container>\r\n      <Toaster />\r\n      <Style.Form>\r\n        <Form>\r\n          <Style.Title>Sign Up</Style.Title>\r\n          <Form.Item>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"displayName\"\r\n              value={displayName}\r\n              placeholder=\"E.g: Faruq\"\r\n              id=\"displayName\"\r\n              onChange={onChangeHandlerName}\r\n              prefix={<UserOutlined />}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Input\r\n              type=\"email\"\r\n              name=\"userEmail\"\r\n              value={email}\r\n              placeholder=\"E.g: faruq123@gmail.com\"\r\n              id=\"userEmail\"\r\n              onChange={onChangeHandlerEmail}\r\n              prefix={<UserOutlined />}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Input.Password\r\n              type=\"password\"\r\n              name=\"userPassword\"\r\n              value={password}\r\n              placeholder=\"Your Password\"\r\n              id=\"userPassword\"\r\n              onChange={onChangeHandlerPassword}\r\n              suffix={\r\n                <Tooltip title=\"Extra information\">\r\n                  <InfoCircleOutlined style={{ color: 'rgba(0,0,0,.45)' }} />\r\n                </Tooltip>\r\n              }\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Style.Button>\r\n              <button className=\"SignUp\" onClick={createUser}>\r\n                Sign up\r\n              </button>\r\n            </Style.Button>\r\n            <Style.Links>\r\n              <p> Already have an account?</p>\r\n              <Link to=\"/signIn\">Sign in</Link>\r\n            </Style.Links>\r\n          </Form.Item>\r\n          <Divider plain>Or SignUp Using</Divider>\r\n          <Form.Item>\r\n            <Style.Button onClick={logginGoogle}>\r\n              <button onClick={logginGoogle}>Sign In with Google</button>\r\n            </Style.Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Style.Form>\r\n    </Style.Container>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport PasswordReset from './PasswordReset/PasswordReset';\r\nimport SignIn from './SignIn/SignIn';\r\nimport SignUp from './SignUp/SignUp';\r\n\r\nconst Authentication = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/signIn\" component={SignIn} />\r\n      <Route path=\"/signUp\" component={SignUp} />\r\n      <Route path=\"/passwordReset\" component={PasswordReset} />\r\n      <Redirect from=\"/\" to=\"/signIn\" />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Authentication;\r\n","import styled from 'styled-components';\r\n\r\nconst Styled = {\r\n  Container: styled.div`\r\n    max-width: 775px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    @media (max-width: 775px) {\r\n      flex-direction: column;\r\n    }\r\n  `,\r\n  Form: styled.div`\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    text-align: center;\r\n    & > input {\r\n      width: 100px;\r\n      height: 40px;\r\n    }\r\n    @media (max-width: 775px) {\r\n      flex-direction: row;\r\n    }\r\n  `,\r\n  FormElement: styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 200px;\r\n    height: 50px;\r\n    @media (max-width: 775px) {\r\n      width: 100px;\r\n      align-items: space-between;\r\n      height: 200px;\r\n    }\r\n  `,\r\n  Button: styled.button`\r\n    width: 50px;\r\n    height: 40px;\r\n    margin: 10px;\r\n    @media (max-width: 775px) {\r\n      margin: 10px;\r\n    }\r\n    @media (max-width: 560px) {\r\n      margin: 5px;\r\n    }\r\n  `,\r\n  Buttons: styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    @media (max-width: 775px) {\r\n      width: 300px;\r\n      flex-direction: row;\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n    }\r\n    @media (max-width: 560px) {\r\n      width: 240px;\r\n    }\r\n  `,\r\n};\r\n\r\nexport default Styled;\r\n","export default class Tool {\r\n  canvas: HTMLCanvasElement;\r\n  context: CanvasRenderingContext2D | null;\r\n\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    if (canvas != null) {\r\n      const context = canvas.getContext('2d');\r\n      this.canvas = canvas;\r\n      this.context = context;\r\n      this.endListen();\r\n    }\r\n  }\r\n\r\n  endListen(): void {\r\n    this.canvas.onmousedown = null;\r\n    this.canvas.onmousemove = null;\r\n    this.canvas.onmouseup = null;\r\n    this.canvas.ontouchstart = null;\r\n    this.canvas.ontouchend = null;\r\n    this.canvas.ontouchend = null;\r\n  }\r\n\r\n  set fillColor(color: string) {\r\n    this.context.fillStyle = color;\r\n  }\r\n\r\n  set strokeColor(color: string) {\r\n    this.context.strokeStyle = color;\r\n  }\r\n\r\n  set lineWidth(width: number) {\r\n    this.context.lineWidth = width;\r\n  }\r\n}\r\n","import Brush from './Brush';\r\nimport Rectangle from './Rectangle';\r\nimport Circle from './Circle';\r\nimport Line from './Line';\r\nimport Eraser from './Eraser';\r\nimport ClearAll from './ClearAll';\r\n\r\nconst Tools = [Brush, Rectangle, Circle, Line, Eraser, ClearAll];\r\n\r\nexport default Tools;\r\n","import Tool from './Tool';\r\n\r\nexport default class Brush extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.context?.moveTo(\r\n      event.pageX - this.canvas.offsetLeft,\r\n      event.pageY - this.canvas.offsetTop,\r\n    );\r\n  }\r\n\r\n  handleMouseMove(event: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      this.draw(\r\n        event.pageX - this.canvas.offsetLeft,\r\n        event.pageY - this.canvas.offsetTop,\r\n      );\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number): void {\r\n    this.context.globalCompositeOperation = 'source-over';\r\n    this.context?.lineTo(x, y);\r\n    this.context?.stroke();\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Rectangle extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n  startX: number;\r\n  startY: number;\r\n  currentX: number;\r\n  currentY: number;\r\n  saved: any;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.startX = event.pageX - this.canvas.offsetLeft;\r\n    this.startY = event.pageY - this.canvas.offsetTop;\r\n    this.saved = this.canvas.toDataURL();\r\n  }\r\n\r\n  handleMouseMove(event: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      const currentX = event.pageX - this.canvas.offsetLeft;\r\n      const currentY = event.pageY - this.canvas.offsetTop;\r\n      const width = currentX - this.startX;\r\n      const height = currentY - this.startY;\r\n      this.draw(this.startX, this.startY, width, height);\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number, width: number, height: number): void {\r\n    const img = new Image();\r\n    img.src = this.saved;\r\n    img.onload = () => {\r\n      this.context.globalCompositeOperation = 'source-over';\r\n      this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.beginPath();\r\n      this.context?.rect(x, y, width, height);\r\n      this.context?.fill();\r\n      this.context?.stroke();\r\n    };\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Circle extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n  startX: number;\r\n  startY: number;\r\n  saved: any;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.startX = event.pageX - this.canvas.offsetLeft;\r\n    this.startY = event.pageY - this.canvas.offsetTop;\r\n    this.saved = this.canvas.toDataURL();\r\n  }\r\n\r\n  handleMouseMove(event: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      const currentX = event.pageX - this.canvas.offsetLeft;\r\n      const currentY = event.pageY - this.canvas.offsetTop;\r\n      const width = currentX - this.startX;\r\n      const height = currentY - this.startY;\r\n      const radius = Math.pow(width * width + height * height, 1 / 2);\r\n      this.draw(this.startX, this.startY, radius);\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number, radius: number): void {\r\n    const img = new Image();\r\n    img.src = this.saved;\r\n    img.onload = () => {\r\n      this.context.globalCompositeOperation = 'source-over';\r\n      this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.beginPath();\r\n      this.context?.arc(x, y, radius, 0, Math.PI * 2);\r\n      this.context?.fill();\r\n      this.context?.stroke();\r\n    };\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Line extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n  startX: number;\r\n  startY: number;\r\n  currentX: number;\r\n  currentY: number;\r\n  saved: any;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(e: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.currentX = e.pageX - this.canvas.offsetLeft;\r\n    this.currentY = e.pageY - this.canvas.offsetTop;\r\n    this.context?.moveTo(this.currentX, this.currentY);\r\n    this.saved = this.canvas.toDataURL();\r\n  }\r\n\r\n  handleMouseMove(e: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      const currentX = e.pageX - this.canvas.offsetLeft;\r\n      const currentY = e.pageY - this.canvas.offsetTop;\r\n      this.draw(currentX, currentY);\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number): void {\r\n    const img = new Image();\r\n    img.src = this.saved;\r\n    img.onload = () => {\r\n      this.context.globalCompositeOperation = 'source-over';\r\n      this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\r\n      this.context?.beginPath();\r\n      this.context?.moveTo(this.currentX, this.currentY);\r\n      this.context?.lineTo(x, y);\r\n      this.context?.stroke();\r\n    };\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class Eraser extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.listen();\r\n  }\r\n\r\n  mouseDown: boolean;\r\n\r\n  listen(): void {\r\n    this.canvas.onmousedown = this.handleMouseDown.bind(this);\r\n    this.canvas.onmousemove = this.handleMouseMove.bind(this);\r\n    this.canvas.onmouseup = this.handleMouseUp.bind(this);\r\n    this.canvas.ontouchstart = this.handleTouchDown.bind(this);\r\n    this.canvas.ontouchmove = this.handleTouchMove.bind(this);\r\n    this.canvas.ontouchend = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent): void {\r\n    this.mouseDown = true;\r\n    this.context?.beginPath();\r\n    this.context?.moveTo(\r\n      event.pageX - this.canvas.offsetLeft,\r\n      event.pageY - this.canvas.offsetTop,\r\n    );\r\n  }\r\n\r\n  handleMouseMove(event: MouseEvent): void {\r\n    if (this.mouseDown) {\r\n      this.draw(\r\n        event.pageX - this.canvas.offsetLeft,\r\n        event.pageY - this.canvas.offsetTop,\r\n      );\r\n    }\r\n  }\r\n\r\n  handleMouseUp(): void {\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  handleTouchDown(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousedown', {\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchMove(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    const mouseEvent = new MouseEvent('mousemove', {\r\n      clientX: touch.clientX - this.canvas.clientLeft,\r\n      clientY: touch.clientY - this.canvas.clientTop,\r\n    });\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent): void {\r\n    event.preventDefault();\r\n    const mouseEvent = new MouseEvent('mouseup', {});\r\n    this.canvas.dispatchEvent(mouseEvent);\r\n  }\r\n\r\n  draw(x: number, y: number, radius = 10, fillColor = '#ff0000'): void {\r\n    this.context.globalCompositeOperation = 'destination-out';\r\n    this.context.moveTo(x, y);\r\n    this.context.arc(x, y, radius, 0, Math.PI * 2, false);\r\n    this.context.fill();\r\n    this.context?.stroke();\r\n  }\r\n}\r\n","import Tool from './Tool';\r\n\r\nexport default class ClearAll extends Tool {\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super(canvas);\r\n    this.draw();\r\n  }\r\n\r\n  draw(): void {\r\n    this.context.globalCompositeOperation = 'destination-out';\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.context.beginPath();\r\n  }\r\n}\r\n","import brush from '@assets/brush.svg';\r\nimport circle from '@assets/circle.svg';\r\nimport rectangle from '@assets/rectangle.svg';\r\nimport line from '@assets/line.svg';\r\nimport disk from '@assets/disk.svg';\r\nimport trash from '@assets/trash.svg';\r\nimport eraser from '@assets/eraser.svg';\r\nimport undoIcon from '@assets/undo.svg';\r\nimport redoIcon from '@assets/redo.svg';\r\n\r\nconst Icons = [\r\n  brush,\r\n  circle,\r\n  rectangle,\r\n  line,\r\n  disk,\r\n  trash,\r\n  eraser,\r\n  undoIcon,\r\n  redoIcon,\r\n];\r\n\r\nexport default Icons;\r\n","export default __webpack_public_path__ + \"static/media/brush.e883c464.svg\";","export default __webpack_public_path__ + \"static/media/circle.bcdffe73.svg\";","export default __webpack_public_path__ + \"static/media/rectangle.f713332e.svg\";","export default __webpack_public_path__ + \"static/media/line.c0682632.svg\";","export default __webpack_public_path__ + \"static/media/disk.8dc48bbe.svg\";","export default __webpack_public_path__ + \"static/media/trash.156c9cc0.svg\";","export default __webpack_public_path__ + \"static/media/eraser.ba621429.svg\";","export default __webpack_public_path__ + \"static/media/undo.02761356.svg\";","export default __webpack_public_path__ + \"static/media/redo.127486dd.svg\";","import { firestore, storageRef } from '.';\r\n\r\nfunction uuidv4() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    var r = (Math.random() * 16) | 0,\r\n      v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\nexport const saveImage = (canvas, uid) => {\r\n  if (\r\n    typeof canvas.toBlob !== 'undefined' ||\r\n    typeof canvas.msToBlob !== 'undefined'\r\n  ) {\r\n    let uuid = uuidv4();\r\n    canvas.toBlob(function (blob) {\r\n      let image = new Image();\r\n      image.src = blob;\r\n      let metadata = {\r\n        contentType: 'image/png',\r\n      };\r\n      storageRef\r\n        .child('images/' + uid + '/' + uuid)\r\n        .put(blob, metadata)\r\n        .then(function (snapshot) {\r\n          console.log('Uploaded', snapshot.totalBytes, 'bytes.');\r\n        })\r\n        .catch(function (error) {\r\n          console.error('Upload failed:', error);\r\n        });\r\n    });\r\n  }\r\n};\r\n\r\nexport const requestImage = async (setPictures, uid) => {\r\n  storageRef\r\n    .child('images/' + uid + '/')\r\n    .listAll()\r\n    .then(async result => {\r\n      let picArr = [];\r\n      await Promise.all(\r\n        result.items.map(async imageRef => {\r\n          await imageRef.getDownloadURL().then(url => {\r\n            picArr.push(url);\r\n          });\r\n        }),\r\n      );\r\n      await setPictures([...picArr]);\r\n      storageRef.child('images/' + uid + '/');\r\n    });\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\r\nimport Styled from './StyledToolbar.d';\r\nimport Tools from './Tools/index';\r\nimport allActions from '@store/actions';\r\nimport Icons from '@assets/index';\r\nimport { saveImage } from '@firebaseConfig/firebaseDBQueries';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Toolbar = () => {\r\n  const dispatch = useDispatch();\r\n  const canvasRef = useSelector((state: RootStateOrAny) => state.currentCanvas);\r\n  const user = useSelector((state: RootStateOrAny) => state.currentAuth);\r\n\r\n  const setBrush = () => {\r\n    if (canvasRef) {\r\n      dispatch(\r\n        allActions.toolsActions.setTool(new Tools[0](canvasRef.current)),\r\n      );\r\n    }\r\n  };\r\n\r\n  const setRect = () => {\r\n    if (canvasRef) {\r\n      dispatch(\r\n        allActions.toolsActions.setTool(new Tools[1](canvasRef.current)),\r\n      );\r\n    }\r\n  };\r\n\r\n  const setCircle = () => {\r\n    if (canvasRef) {\r\n      dispatch(\r\n        allActions.toolsActions.setTool(new Tools[2](canvasRef.current)),\r\n      );\r\n    }\r\n  };\r\n\r\n  const setLine = () => {\r\n    if (canvasRef) {\r\n      dispatch(\r\n        allActions.toolsActions.setTool(new Tools[3](canvasRef.current)),\r\n      );\r\n    }\r\n  };\r\n\r\n  const setEraser = () => {\r\n    if (canvasRef) {\r\n      dispatch(\r\n        allActions.toolsActions.setTool(new Tools[4](canvasRef.current)),\r\n      );\r\n    }\r\n  };\r\n\r\n  const lineWidth = (event: any) => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setLineWidth(event.target.value));\r\n    }\r\n  };\r\n\r\n  const clearAll = () => {\r\n    if (canvasRef) {\r\n      dispatch(\r\n        allActions.toolsActions.setTool(new Tools[5](canvasRef.current)),\r\n      );\r\n      toast.success('Clear All');\r\n    }\r\n  };\r\n\r\n  const changeStrokeColor = (event: any) => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setStrokeColor(event.target.value));\r\n    }\r\n  };\r\n\r\n  const changeFillColor = (event: any) => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.toolsActions.setFillColor(event.target.value));\r\n    }\r\n  };\r\n\r\n  const undo = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.canvasActions.undo());\r\n    }\r\n  };\r\n\r\n  const redo = () => {\r\n    if (canvasRef) {\r\n      dispatch(allActions.canvasActions.redo());\r\n    }\r\n  };\r\n\r\n  const handleSaveImage = () => {\r\n    if (!canvasRef) {\r\n      return;\r\n    }\r\n    const { uid } = user.user;\r\n    saveImage(canvasRef.current, uid);\r\n    toast.success('Image saved');\r\n  };\r\n\r\n  useEffect(() => {\r\n    setBrush();\r\n  }, []);\r\n\r\n  return (\r\n    <Styled.Container>\r\n      <Styled.Form>\r\n        <Styled.FormElement>\r\n          <label>Fill Color</label>\r\n          <input\r\n            type=\"color\"\r\n            onChange={event => changeFillColor(event)}\r\n            title={'Fill Color'}\r\n          />\r\n          <label>Stroke Color</label>\r\n          <input\r\n            type=\"color\"\r\n            onChange={event => changeStrokeColor(event)}\r\n            title={'Stroke Color'}\r\n          />\r\n          <label>Line Width</label>\r\n          <input\r\n            type=\"range\"\r\n            min={1}\r\n            max={15}\r\n            defaultValue={1}\r\n            step={1}\r\n            title={'Толщина линии'}\r\n            onChange={event => lineWidth(event)}\r\n          />\r\n        </Styled.FormElement>\r\n        <Styled.Buttons>\r\n          <Styled.Button onClick={setLine}>\r\n            <img src={Icons[3]} />\r\n          </Styled.Button>\r\n          <Styled.Button onClick={setBrush}>\r\n            <img src={Icons[0]} />\r\n          </Styled.Button>\r\n          <Styled.Button onClick={setRect}>\r\n            <img src={Icons[2]} />\r\n          </Styled.Button>\r\n          <Styled.Button onClick={setCircle}>\r\n            <img src={Icons[1]} />\r\n          </Styled.Button>\r\n          <Styled.Button onClick={setEraser}>\r\n            <img src={Icons[6]} />\r\n          </Styled.Button>\r\n          <Styled.Button onClick={undo}>\r\n            <img src={Icons[7]} />\r\n          </Styled.Button>\r\n          <Styled.Button onClick={redo}>\r\n            <img src={Icons[8]} />\r\n          </Styled.Button>\r\n          <Styled.Button onClick={clearAll}>\r\n            <img src={Icons[5]} />\r\n          </Styled.Button>\r\n          <Styled.Button onClick={handleSaveImage}>\r\n            <img src={Icons[4]} />\r\n          </Styled.Button>\r\n        </Styled.Buttons>\r\n      </Styled.Form>\r\n    </Styled.Container>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","import styled from 'styled-components';\r\n\r\nconst Styled = {\r\n  Container: styled.div`\r\n    max-width: 775px;\r\n    height: 500px;\r\n    margin: 0 auto;\r\n    @media (max-width: 768px) {\r\n      max-width: 775px;\r\n      margin: 0 auto;\r\n    }\r\n    @media (max-width: 575px) {\r\n      max-width: 550px;\r\n      max-height: 400px;\r\n      margin: 0 auto;\r\n    }\r\n    & > canvas {\r\n      border: 1px solid gray;\r\n      background: #f7f2f2;\r\n    }\r\n  `,\r\n  Buttons: styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n  `,\r\n};\r\n\r\nexport default Styled;\r\n","const handleResize = (refCanvas: React.RefObject<HTMLCanvasElement>) => {\r\n  if (refCanvas.current == null) return;\r\n\r\n  const parentNode = refCanvas.current.parentNode as HTMLDivElement;\r\n\r\n  refCanvas.current.width = parseInt(\r\n    getComputedStyle(parentNode).getPropertyValue('width'),\r\n  );\r\n  refCanvas.current.height = parseInt(\r\n    getComputedStyle(parentNode).getPropertyValue('height'),\r\n  );\r\n};\r\n\r\nexport default handleResize;\r\n","export default __webpack_public_path__ + \"static/media/log-out.9fbf96f0.svg\";","export default __webpack_public_path__ + \"static/media/gallery.decf0c3c.svg\";","import React, { useEffect } from 'react';\r\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\r\nimport Toolbar from '../Toolbar/Toolbar';\r\nimport allActions from '@store/actions';\r\nimport Style from './StyledCanvas.d';\r\nimport handleResize from './resizeCanvas';\r\nimport { useHistory } from 'react-router';\r\nimport iconSignOut from '@assets/log-out.svg';\r\nimport iconGallery from '@assets/gallery.svg';\r\nimport Styled from './StyledCanvas.d';\r\n\r\nconst Canvas = () => {\r\n  const dispatch = useDispatch();\r\n  const canvasRef = useSelector((state: RootStateOrAny) => state.currentCanvas);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    dispatch(allActions.canvasActions.setRef(canvasRef.current));\r\n  }, []);\r\n\r\n  const handleMouseDown = () => {\r\n    if (canvasRef.current?.toDataURL) {\r\n      dispatch(\r\n        allActions.canvasActions.pushToRedo(canvasRef.current.toDataURL()),\r\n      );\r\n    }\r\n  };\r\n\r\n  const signOut = () => {\r\n    dispatch(allActions.authActions.signout());\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleResize(canvasRef);\r\n  }, []);\r\n\r\n  const galleryLinkHandler = () => {\r\n    history.push('/gallery');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Styled.Buttons>\r\n        <button onClick={signOut}>\r\n          <img src={iconSignOut} />\r\n          Sign out\r\n        </button>\r\n        <button onClick={galleryLinkHandler}>\r\n          <img src={iconGallery} />\r\n          Gallery\r\n        </button>\r\n      </Styled.Buttons>\r\n      <Style.Container>\r\n        <canvas\r\n          onMouseDown={handleMouseDown}\r\n          onTouchStart={handleMouseDown}\r\n          ref={canvasRef}\r\n        />\r\n        <Toolbar />\r\n      </Style.Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n","import styled from 'styled-components';\r\n\r\nconst Styled = {\r\n  Container: styled.div`\r\n    max-width: 1100px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    text-align: center;\r\n    @media (max-width: 768px) {\r\n      max-width: 700px;\r\n      box-shadow: none;\r\n      border: none;\r\n    }\r\n  `,\r\n  Img: styled.img`\r\n    max-width: 400px;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n    margin: 10px;\r\n    @media (max-width: 775px) {\r\n      max-width: 300px;\r\n    }\r\n  `,\r\n  Text: styled.div`\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    font-family: Georgia, serif;\r\n    font-size: 20px;\r\n  `,\r\n};\r\n\r\nexport default Styled;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { RootStateOrAny, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { requestImage } from '@firebaseConfig/firebaseDBQueries';\r\nimport iconSignOut from '@assets/log-out.svg';\r\nimport Style from './StyledGallery.d';\r\nimport { Button } from 'antd';\r\n\r\nconst Gallery = () => {\r\n  const user = useSelector((state: RootStateOrAny) => state.currentAuth);\r\n  const history = useHistory();\r\n  const [pictures, setPictures] = useState([]);\r\n  const { uid } = user.user;\r\n\r\n  useEffect(() => {\r\n    const getAsyncPics = async () => {\r\n      await requestImage(setPictures, uid);\r\n    };\r\n\r\n    getAsyncPics();\r\n  }, []);\r\n\r\n  const goBackHandler = () => {\r\n    history.push('/');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={goBackHandler} type=\"primary\">\r\n        <img src={iconSignOut} /> Paint\r\n      </Button>\r\n      {pictures.length > 0 ? (\r\n        <Style.Container>\r\n          <div>\r\n            {pictures.map((picture, i) => {\r\n              return <Style.Img src={picture} alt=\"\" key={i} />;\r\n            })}\r\n          </div>\r\n        </Style.Container>\r\n      ) : (\r\n        <Style.Text>\r\n          <h2>Task list is empty</h2>\r\n        </Style.Text>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Gallery;\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router';\r\nimport Canvas from './Canvas/Canvas';\r\nimport Gallery from './Gallery/Gallery';\r\n\r\nconst Paint = () => {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/canvas\">\r\n          <Canvas />\r\n        </Route>\r\n        <Route path=\"/gallery\">\r\n          <Gallery />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Redirect to=\"/canvas\" />\r\n        </Route>\r\n      </Switch>\r\n      {/* <Toolbar /> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Paint;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Authentication from '@modules/Authentication/Authentication';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport Paint from '@modules/Paint/Paint';\r\nimport { auth } from '@firebaseConfig/';\r\nimport { generateUserDocument } from '@firebaseConfig/';\r\nimport allActions from '@store/actions';\r\n\r\nconst Routes = () => {\r\n  const user = useSelector(state => state.currentAuth);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(async userAuth => {\r\n      const user = await generateUserDocument(userAuth);\r\n      if (user) {\r\n        dispatch(allActions.authActions.signIn(user));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return user.login ? (\r\n    <>\r\n      <Toaster />\r\n      <Router>\r\n        <Paint />\r\n      </Router>\r\n    </>\r\n  ) : (\r\n    <Router>\r\n      <Authentication />\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\n\r\nimport './App.css';\r\nimport Routes from './routes/Routes';\r\n\r\nconst App = () => {\r\n  return <Routes />;\r\n};\r\n\r\nexport default App;\r\n","import {\r\n  PUSH_TO_REDO,\r\n  PUSH_TO_UNDO,\r\n  REDO,\r\n  SET_REF,\r\n  UNDO,\r\n} from '@store/actions/constans.d';\r\nimport { CanvasActions, CanvasState } from 'type/types';\r\n\r\nconst initialState = {\r\n  canvasRef: null as null,\r\n  undo: [] as string[],\r\n  redo: [] as string[],\r\n};\r\n\r\nconst currentCanvas = (\r\n  state: CanvasState = initialState,\r\n  action: CanvasActions,\r\n) => {\r\n  switch (action.type) {\r\n    case SET_REF: {\r\n      return {\r\n        ...state,\r\n        canvasRef: action.payload,\r\n      };\r\n    }\r\n\r\n    case PUSH_TO_REDO: {\r\n      return {\r\n        ...state,\r\n        redo: [...state.redo, action.payload],\r\n      };\r\n    }\r\n\r\n    case PUSH_TO_UNDO: {\r\n      return {\r\n        ...state,\r\n        redo: [...state.undo, action.payload],\r\n      };\r\n    }\r\n\r\n    case REDO: {\r\n      const canvas: CanvasRenderingContext2D | null = state.canvasRef.getContext(\r\n        '2d',\r\n      );\r\n      canvas.globalCompositeOperation = 'source-over';\r\n      if (state.undo.length > 0) {\r\n        const dataUrl = state.undo.pop();\r\n        state.redo.push(state.canvasRef.toDataURL());\r\n        const img = new Image();\r\n        img.src = dataUrl;\r\n        img.onload = () => {\r\n          canvas?.clearRect(\r\n            0,\r\n            0,\r\n            state.canvasRef.width,\r\n            state.canvasRef.height,\r\n          );\r\n          canvas?.drawImage(\r\n            img,\r\n            0,\r\n            0,\r\n            state.canvasRef.width,\r\n            state.canvasRef.height,\r\n          );\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n\r\n    case UNDO: {\r\n      const canvas: CanvasRenderingContext2D | null = state.canvasRef.getContext(\r\n        '2d',\r\n      );\r\n      canvas.globalCompositeOperation = 'source-over';\r\n      if (state.redo.length > 0) {\r\n        const dataUrl = state.redo.pop();\r\n        state.undo.push(state.canvasRef.toDataURL());\r\n        const img = new Image();\r\n        img.src = dataUrl;\r\n        img.onload = () => {\r\n          canvas?.clearRect(\r\n            0,\r\n            0,\r\n            state.canvasRef.width,\r\n            state.canvasRef.height,\r\n          );\r\n          canvas?.drawImage(\r\n            img,\r\n            0,\r\n            0,\r\n            state.canvasRef.width,\r\n            state.canvasRef.height,\r\n          );\r\n        };\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default currentCanvas;\r\n","import {\r\n  SET_FILL_COLOR,\r\n  SET_LINE_WIDTH,\r\n  SET_STROKE_COLOR,\r\n  SET_TOOL,\r\n} from '@store/actions/constans.d';\r\nimport { ToolsAction, ToolsState } from 'type/types';\r\n\r\nconst initiaslState = {\r\n  tool: undefined as undefined,\r\n};\r\n\r\nconst currentTools = (\r\n  state: ToolsState = initiaslState,\r\n  action: ToolsAction,\r\n) => {\r\n  switch (action.type) {\r\n    case SET_TOOL: {\r\n      return {\r\n        ...state,\r\n        tool: action.payload,\r\n      };\r\n    }\r\n\r\n    case SET_FILL_COLOR: {\r\n      if (state.tool) {\r\n        state.tool.fillColor = action.payload;\r\n      }\r\n      return state;\r\n    }\r\n\r\n    case SET_STROKE_COLOR: {\r\n      if (state.tool) {\r\n        state.tool.strokeColor = action.payload;\r\n      }\r\n      return state;\r\n    }\r\n\r\n    case SET_LINE_WIDTH: {\r\n      if (state.tool) {\r\n        state.tool.lineWidth = action.payload;\r\n      }\r\n      return state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default currentTools;\r\n","import {\r\n  RESET_PASSW,\r\n  SIGN_ERROR,\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  SIGN_UP,\r\n} from '@store/actions/constans.d';\r\nimport { AuthActions, AuthState } from 'type/types';\r\n\r\nconst initialState = {\r\n  login: false,\r\n  user: null as any,\r\n};\r\n\r\nconst currentAuth = (state: AuthState = initialState, action: AuthActions) => {\r\n  switch (action.type) {\r\n    case SIGN_IN: {\r\n      return {\r\n        ...state,\r\n        login: true,\r\n        user: action.payload,\r\n      };\r\n    }\r\n    case SIGN_OUT: {\r\n      return {\r\n        ...state,\r\n        login: false,\r\n        user: null,\r\n      };\r\n    }\r\n    case RESET_PASSW: {\r\n      return {\r\n        ...state,\r\n        login: false,\r\n      };\r\n    }\r\n    case SIGN_UP: {\r\n      return {\r\n        ...state,\r\n        login: true,\r\n        user: action.payload,\r\n      };\r\n    }\r\n    case SIGN_ERROR: {\r\n      return {\r\n        ...state,\r\n        login: false,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default currentAuth;\r\n","import { combineReducers } from 'redux';\r\nimport currentCanvas from './currentCanvas';\r\nimport currentTools from './currentTools';\r\nimport currentAuth from './currentAuth';\r\nconst rootReducer = combineReducers({\r\n  currentCanvas,\r\n  currentTools,\r\n  currentAuth,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport rootReducer from './reducers/rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}